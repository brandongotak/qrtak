(function(){const I=document.createElement("link").relList;if(I&&I.supports&&I.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))p(a);new MutationObserver(a=>{for(const e of a)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&p(n)}).observe(document,{childList:!0,subtree:!0});function u(a){const e={};return a.integrity&&(e.integrity=a.integrity),a.referrerPolicy&&(e.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?e.credentials="include":a.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function p(a){if(a.ep)return;a.ep=!0;const e=u(a);fetch(a.href,e)}})();var Ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ze(k){return k&&k.__esModule&&Object.prototype.hasOwnProperty.call(k,"default")?k.default:k}var It={},Ft,ge;function rn(){return ge||(ge=1,Ft=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),Ft}var Mt={},kt={},ye;function Et(){if(ye)return kt;ye=1;let k;const I=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return kt.getSymbolSize=function(p){if(!p)throw new Error('"version" cannot be null or undefined');if(p<1||p>40)throw new Error('"version" should be in range from 1 to 40');return p*4+17},kt.getSymbolTotalCodewords=function(p){return I[p]},kt.getBCHDigit=function(u){let p=0;for(;u!==0;)p++,u>>>=1;return p},kt.setToSJISFunction=function(p){if(typeof p!="function")throw new Error('"toSJISFunc" is not a valid function.');k=p},kt.isKanjiModeEnabled=function(){return typeof k<"u"},kt.toSJIS=function(p){return k(p)},kt}var jt={},_e;function de(){return _e||(_e=1,(function(k){k.L={bit:1},k.M={bit:0},k.Q={bit:3},k.H={bit:2};function I(u){if(typeof u!="string")throw new Error("Param is not a string");switch(u.toLowerCase()){case"l":case"low":return k.L;case"m":case"medium":return k.M;case"q":case"quartile":return k.Q;case"h":case"high":return k.H;default:throw new Error("Unknown EC Level: "+u)}}k.isValid=function(p){return p&&typeof p.bit<"u"&&p.bit>=0&&p.bit<4},k.from=function(p,a){if(k.isValid(p))return p;try{return I(p)}catch{return a}}})(jt)),jt}var qt,ve;function on(){if(ve)return qt;ve=1;function k(){this.buffer=[],this.length=0}return k.prototype={get:function(I){const u=Math.floor(I/8);return(this.buffer[u]>>>7-I%8&1)===1},put:function(I,u){for(let p=0;p<u;p++)this.putBit((I>>>u-p-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(I){const u=Math.floor(this.length/8);this.buffer.length<=u&&this.buffer.push(0),I&&(this.buffer[u]|=128>>>this.length%8),this.length++}},qt=k,qt}var Kt,we;function an(){if(we)return Kt;we=1;function k(I){if(!I||I<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=I,this.data=new Uint8Array(I*I),this.reservedBit=new Uint8Array(I*I)}return k.prototype.set=function(I,u,p,a){const e=I*this.size+u;this.data[e]=p,a&&(this.reservedBit[e]=!0)},k.prototype.get=function(I,u){return this.data[I*this.size+u]},k.prototype.xor=function(I,u,p){this.data[I*this.size+u]^=p},k.prototype.isReserved=function(I,u){return this.reservedBit[I*this.size+u]},Kt=k,Kt}var $t={},be;function sn(){return be||(be=1,(function(k){const I=Et().getSymbolSize;k.getRowColCoords=function(p){if(p===1)return[];const a=Math.floor(p/7)+2,e=I(p),n=e===145?26:Math.ceil((e-13)/(2*a-2))*2,t=[e-7];for(let i=1;i<a-1;i++)t[i]=t[i-1]-n;return t.push(6),t.reverse()},k.getPositions=function(p){const a=[],e=k.getRowColCoords(p),n=e.length;for(let t=0;t<n;t++)for(let i=0;i<n;i++)t===0&&i===0||t===0&&i===n-1||t===n-1&&i===0||a.push([e[t],e[i]]);return a}})($t)),$t}var Ht={},ke;function ln(){if(ke)return Ht;ke=1;const k=Et().getSymbolSize,I=7;return Ht.getPositions=function(p){const a=k(p);return[[0,0],[a-I,0],[0,a-I]]},Ht}var Zt={},Ee;function un(){return Ee||(Ee=1,(function(k){k.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const I={N1:3,N2:3,N3:40,N4:10};k.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},k.from=function(a){return k.isValid(a)?parseInt(a,10):void 0},k.getPenaltyN1=function(a){const e=a.size;let n=0,t=0,i=0,f=null,y=null;for(let m=0;m<e;m++){t=i=0,f=y=null;for(let d=0;d<e;d++){let o=a.get(m,d);o===f?t++:(t>=5&&(n+=I.N1+(t-5)),f=o,t=1),o=a.get(d,m),o===y?i++:(i>=5&&(n+=I.N1+(i-5)),y=o,i=1)}t>=5&&(n+=I.N1+(t-5)),i>=5&&(n+=I.N1+(i-5))}return n},k.getPenaltyN2=function(a){const e=a.size;let n=0;for(let t=0;t<e-1;t++)for(let i=0;i<e-1;i++){const f=a.get(t,i)+a.get(t,i+1)+a.get(t+1,i)+a.get(t+1,i+1);(f===4||f===0)&&n++}return n*I.N2},k.getPenaltyN3=function(a){const e=a.size;let n=0,t=0,i=0;for(let f=0;f<e;f++){t=i=0;for(let y=0;y<e;y++)t=t<<1&2047|a.get(f,y),y>=10&&(t===1488||t===93)&&n++,i=i<<1&2047|a.get(y,f),y>=10&&(i===1488||i===93)&&n++}return n*I.N3},k.getPenaltyN4=function(a){let e=0;const n=a.data.length;for(let i=0;i<n;i++)e+=a.data[i];return Math.abs(Math.ceil(e*100/n/5)-10)*I.N4};function u(p,a,e){switch(p){case k.Patterns.PATTERN000:return(a+e)%2===0;case k.Patterns.PATTERN001:return a%2===0;case k.Patterns.PATTERN010:return e%3===0;case k.Patterns.PATTERN011:return(a+e)%3===0;case k.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(e/3))%2===0;case k.Patterns.PATTERN101:return a*e%2+a*e%3===0;case k.Patterns.PATTERN110:return(a*e%2+a*e%3)%2===0;case k.Patterns.PATTERN111:return(a*e%3+(a+e)%2)%2===0;default:throw new Error("bad maskPattern:"+p)}}k.applyMask=function(a,e){const n=e.size;for(let t=0;t<n;t++)for(let i=0;i<n;i++)e.isReserved(i,t)||e.xor(i,t,u(a,i,t))},k.getBestMask=function(a,e){const n=Object.keys(k.Patterns).length;let t=0,i=1/0;for(let f=0;f<n;f++){e(f),k.applyMask(f,a);const y=k.getPenaltyN1(a)+k.getPenaltyN2(a)+k.getPenaltyN3(a)+k.getPenaltyN4(a);k.applyMask(f,a),y<i&&(i=y,t=f)}return t}})(Zt)),Zt}var Lt={},Ae;function We(){if(Ae)return Lt;Ae=1;const k=de(),I=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],u=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Lt.getBlocksCount=function(a,e){switch(e){case k.L:return I[(a-1)*4+0];case k.M:return I[(a-1)*4+1];case k.Q:return I[(a-1)*4+2];case k.H:return I[(a-1)*4+3];default:return}},Lt.getTotalCodewordsCount=function(a,e){switch(e){case k.L:return u[(a-1)*4+0];case k.M:return u[(a-1)*4+1];case k.Q:return u[(a-1)*4+2];case k.H:return u[(a-1)*4+3];default:return}},Lt}var Wt={},Bt={},Ie;function cn(){if(Ie)return Bt;Ie=1;const k=new Uint8Array(512),I=new Uint8Array(256);return(function(){let p=1;for(let a=0;a<255;a++)k[a]=p,I[p]=a,p<<=1,p&256&&(p^=285);for(let a=255;a<512;a++)k[a]=k[a-255]})(),Bt.log=function(p){if(p<1)throw new Error("log("+p+")");return I[p]},Bt.exp=function(p){return k[p]},Bt.mul=function(p,a){return p===0||a===0?0:k[I[p]+I[a]]},Bt}var Se;function dn(){return Se||(Se=1,(function(k){const I=cn();k.mul=function(p,a){const e=new Uint8Array(p.length+a.length-1);for(let n=0;n<p.length;n++)for(let t=0;t<a.length;t++)e[n+t]^=I.mul(p[n],a[t]);return e},k.mod=function(p,a){let e=new Uint8Array(p);for(;e.length-a.length>=0;){const n=e[0];for(let i=0;i<a.length;i++)e[i]^=I.mul(a[i],n);let t=0;for(;t<e.length&&e[t]===0;)t++;e=e.slice(t)}return e},k.generateECPolynomial=function(p){let a=new Uint8Array([1]);for(let e=0;e<p;e++)a=k.mul(a,new Uint8Array([1,I.exp(e)]));return a}})(Wt)),Wt}var Vt,Ce;function fn(){if(Ce)return Vt;Ce=1;const k=dn();function I(u){this.genPoly=void 0,this.degree=u,this.degree&&this.initialize(this.degree)}return I.prototype.initialize=function(p){this.degree=p,this.genPoly=k.generateECPolynomial(this.degree)},I.prototype.encode=function(p){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(p.length+this.degree);a.set(p);const e=k.mod(a,this.genPoly),n=this.degree-e.length;if(n>0){const t=new Uint8Array(this.degree);return t.set(e,n),t}return e},Vt=I,Vt}var Gt={},Qt={},Yt={},Te;function Ve(){return Te||(Te=1,Yt.isValid=function(I){return!isNaN(I)&&I>=1&&I<=40}),Yt}var vt={},Be;function Ge(){if(Be)return vt;Be=1;const k="[0-9]+",I="[A-Z $%*+\\-./:]+";let u="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";u=u.replace(/u/g,"\\u");const p="(?:(?![A-Z0-9 $%*+\\-./:]|"+u+`)(?:.|[\r
]))+`;vt.KANJI=new RegExp(u,"g"),vt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),vt.BYTE=new RegExp(p,"g"),vt.NUMERIC=new RegExp(k,"g"),vt.ALPHANUMERIC=new RegExp(I,"g");const a=new RegExp("^"+u+"$"),e=new RegExp("^"+k+"$"),n=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return vt.testKanji=function(i){return a.test(i)},vt.testNumeric=function(i){return e.test(i)},vt.testAlphanumeric=function(i){return n.test(i)},vt}var Re;function At(){return Re||(Re=1,(function(k){const I=Ve(),u=Ge();k.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},k.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},k.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},k.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},k.MIXED={bit:-1},k.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!I.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]},k.getBestModeForData=function(e){return u.testNumeric(e)?k.NUMERIC:u.testAlphanumeric(e)?k.ALPHANUMERIC:u.testKanji(e)?k.KANJI:k.BYTE},k.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},k.isValid=function(e){return e&&e.bit&&e.ccBits};function p(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return k.NUMERIC;case"alphanumeric":return k.ALPHANUMERIC;case"kanji":return k.KANJI;case"byte":return k.BYTE;default:throw new Error("Unknown mode: "+a)}}k.from=function(e,n){if(k.isValid(e))return e;try{return p(e)}catch{return n}}})(Qt)),Qt}var xe;function hn(){return xe||(xe=1,(function(k){const I=Et(),u=We(),p=de(),a=At(),e=Ve(),n=7973,t=I.getBCHDigit(n);function i(d,o,h){for(let l=1;l<=40;l++)if(o<=k.getCapacity(l,h,d))return l}function f(d,o){return a.getCharCountIndicator(d,o)+4}function y(d,o){let h=0;return d.forEach(function(l){const g=f(l.mode,o);h+=g+l.getBitsLength()}),h}function m(d,o){for(let h=1;h<=40;h++)if(y(d,h)<=k.getCapacity(h,o,a.MIXED))return h}k.from=function(o,h){return e.isValid(o)?parseInt(o,10):h},k.getCapacity=function(o,h,l){if(!e.isValid(o))throw new Error("Invalid QR Code version");typeof l>"u"&&(l=a.BYTE);const g=I.getSymbolTotalCodewords(o),c=u.getTotalCodewordsCount(o,h),_=(g-c)*8;if(l===a.MIXED)return _;const w=_-f(l,o);switch(l){case a.NUMERIC:return Math.floor(w/10*3);case a.ALPHANUMERIC:return Math.floor(w/11*2);case a.KANJI:return Math.floor(w/13);case a.BYTE:default:return Math.floor(w/8)}},k.getBestVersionForData=function(o,h){let l;const g=p.from(h,p.M);if(Array.isArray(o)){if(o.length>1)return m(o,g);if(o.length===0)return 1;l=o[0]}else l=o;return i(l.mode,l.getLength(),g)},k.getEncodedBits=function(o){if(!e.isValid(o)||o<7)throw new Error("Invalid QR Code version");let h=o<<12;for(;I.getBCHDigit(h)-t>=0;)h^=n<<I.getBCHDigit(h)-t;return o<<12|h}})(Gt)),Gt}var Jt={},Pe;function pn(){if(Pe)return Jt;Pe=1;const k=Et(),I=1335,u=21522,p=k.getBCHDigit(I);return Jt.getEncodedBits=function(e,n){const t=e.bit<<3|n;let i=t<<10;for(;k.getBCHDigit(i)-p>=0;)i^=I<<k.getBCHDigit(i)-p;return(t<<10|i)^u},Jt}var Xt={},te,ze;function mn(){if(ze)return te;ze=1;const k=At();function I(u){this.mode=k.NUMERIC,this.data=u.toString()}return I.getBitsLength=function(p){return 10*Math.floor(p/3)+(p%3?p%3*3+1:0)},I.prototype.getLength=function(){return this.data.length},I.prototype.getBitsLength=function(){return I.getBitsLength(this.data.length)},I.prototype.write=function(p){let a,e,n;for(a=0;a+3<=this.data.length;a+=3)e=this.data.substr(a,3),n=parseInt(e,10),p.put(n,10);const t=this.data.length-a;t>0&&(e=this.data.substr(a),n=parseInt(e,10),p.put(n,t*3+1))},te=I,te}var ee,Oe;function gn(){if(Oe)return ee;Oe=1;const k=At(),I=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function u(p){this.mode=k.ALPHANUMERIC,this.data=p}return u.getBitsLength=function(a){return 11*Math.floor(a/2)+6*(a%2)},u.prototype.getLength=function(){return this.data.length},u.prototype.getBitsLength=function(){return u.getBitsLength(this.data.length)},u.prototype.write=function(a){let e;for(e=0;e+2<=this.data.length;e+=2){let n=I.indexOf(this.data[e])*45;n+=I.indexOf(this.data[e+1]),a.put(n,11)}this.data.length%2&&a.put(I.indexOf(this.data[e]),6)},ee=u,ee}var ne,Le;function yn(){if(Le)return ne;Le=1;const k=At();function I(u){this.mode=k.BYTE,typeof u=="string"?this.data=new TextEncoder().encode(u):this.data=new Uint8Array(u)}return I.getBitsLength=function(p){return p*8},I.prototype.getLength=function(){return this.data.length},I.prototype.getBitsLength=function(){return I.getBitsLength(this.data.length)},I.prototype.write=function(u){for(let p=0,a=this.data.length;p<a;p++)u.put(this.data[p],8)},ne=I,ne}var re,Ne;function _n(){if(Ne)return re;Ne=1;const k=At(),I=Et();function u(p){this.mode=k.KANJI,this.data=p}return u.getBitsLength=function(a){return a*13},u.prototype.getLength=function(){return this.data.length},u.prototype.getBitsLength=function(){return u.getBitsLength(this.data.length)},u.prototype.write=function(p){let a;for(a=0;a<this.data.length;a++){let e=I.toSJIS(this.data[a]);if(e>=33088&&e<=40956)e-=33088;else if(e>=57408&&e<=60351)e-=49472;else throw new Error("Invalid SJIS character: "+this.data[a]+`
Make sure your charset is UTF-8`);e=(e>>>8&255)*192+(e&255),p.put(e,13)}},re=u,re}var ie={exports:{}},De;function vn(){return De||(De=1,(function(k){var I={single_source_shortest_paths:function(u,p,a){var e={},n={};n[p]=0;var t=I.PriorityQueue.make();t.push(p,0);for(var i,f,y,m,d,o,h,l,g;!t.empty();){i=t.pop(),f=i.value,m=i.cost,d=u[f]||{};for(y in d)d.hasOwnProperty(y)&&(o=d[y],h=m+o,l=n[y],g=typeof n[y]>"u",(g||l>h)&&(n[y]=h,t.push(y,h),e[y]=f))}if(typeof a<"u"&&typeof n[a]>"u"){var c=["Could not find a path from ",p," to ",a,"."].join("");throw new Error(c)}return e},extract_shortest_path_from_predecessor_list:function(u,p){for(var a=[],e=p;e;)a.push(e),u[e],e=u[e];return a.reverse(),a},find_path:function(u,p,a){var e=I.single_source_shortest_paths(u,p,a);return I.extract_shortest_path_from_predecessor_list(e,a)},PriorityQueue:{make:function(u){var p=I.PriorityQueue,a={},e;u=u||{};for(e in p)p.hasOwnProperty(e)&&(a[e]=p[e]);return a.queue=[],a.sorter=u.sorter||p.default_sorter,a},default_sorter:function(u,p){return u.cost-p.cost},push:function(u,p){var a={value:u,cost:p};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};k.exports=I})(ie)),ie.exports}var Ue;function wn(){return Ue||(Ue=1,(function(k){const I=At(),u=mn(),p=gn(),a=yn(),e=_n(),n=Ge(),t=Et(),i=vn();function f(c){return unescape(encodeURIComponent(c)).length}function y(c,_,w){const A=[];let S;for(;(S=c.exec(w))!==null;)A.push({data:S[0],index:S.index,mode:_,length:S[0].length});return A}function m(c){const _=y(n.NUMERIC,I.NUMERIC,c),w=y(n.ALPHANUMERIC,I.ALPHANUMERIC,c);let A,S;return t.isKanjiModeEnabled()?(A=y(n.BYTE,I.BYTE,c),S=y(n.KANJI,I.KANJI,c)):(A=y(n.BYTE_KANJI,I.BYTE,c),S=[]),_.concat(w,A,S).sort(function(x,O){return x.index-O.index}).map(function(x){return{data:x.data,mode:x.mode,length:x.length}})}function d(c,_){switch(_){case I.NUMERIC:return u.getBitsLength(c);case I.ALPHANUMERIC:return p.getBitsLength(c);case I.KANJI:return e.getBitsLength(c);case I.BYTE:return a.getBitsLength(c)}}function o(c){return c.reduce(function(_,w){const A=_.length-1>=0?_[_.length-1]:null;return A&&A.mode===w.mode?(_[_.length-1].data+=w.data,_):(_.push(w),_)},[])}function h(c){const _=[];for(let w=0;w<c.length;w++){const A=c[w];switch(A.mode){case I.NUMERIC:_.push([A,{data:A.data,mode:I.ALPHANUMERIC,length:A.length},{data:A.data,mode:I.BYTE,length:A.length}]);break;case I.ALPHANUMERIC:_.push([A,{data:A.data,mode:I.BYTE,length:A.length}]);break;case I.KANJI:_.push([A,{data:A.data,mode:I.BYTE,length:f(A.data)}]);break;case I.BYTE:_.push([{data:A.data,mode:I.BYTE,length:f(A.data)}])}}return _}function l(c,_){const w={},A={start:{}};let S=["start"];for(let B=0;B<c.length;B++){const x=c[B],O=[];for(let C=0;C<x.length;C++){const D=x[C],j=""+B+C;O.push(j),w[j]={node:D,lastCount:0},A[j]={};for(let b=0;b<S.length;b++){const R=S[b];w[R]&&w[R].node.mode===D.mode?(A[R][j]=d(w[R].lastCount+D.length,D.mode)-d(w[R].lastCount,D.mode),w[R].lastCount+=D.length):(w[R]&&(w[R].lastCount=D.length),A[R][j]=d(D.length,D.mode)+4+I.getCharCountIndicator(D.mode,_))}}S=O}for(let B=0;B<S.length;B++)A[S[B]].end=0;return{map:A,table:w}}function g(c,_){let w;const A=I.getBestModeForData(c);if(w=I.from(_,A),w!==I.BYTE&&w.bit<A.bit)throw new Error('"'+c+'" cannot be encoded with mode '+I.toString(w)+`.
 Suggested mode is: `+I.toString(A));switch(w===I.KANJI&&!t.isKanjiModeEnabled()&&(w=I.BYTE),w){case I.NUMERIC:return new u(c);case I.ALPHANUMERIC:return new p(c);case I.KANJI:return new e(c);case I.BYTE:return new a(c)}}k.fromArray=function(_){return _.reduce(function(w,A){return typeof A=="string"?w.push(g(A,null)):A.data&&w.push(g(A.data,A.mode)),w},[])},k.fromString=function(_,w){const A=m(_,t.isKanjiModeEnabled()),S=h(A),B=l(S,w),x=i.find_path(B.map,"start","end"),O=[];for(let C=1;C<x.length-1;C++)O.push(B.table[x[C]].node);return k.fromArray(o(O))},k.rawSplit=function(_){return k.fromArray(m(_,t.isKanjiModeEnabled()))}})(Xt)),Xt}var Fe;function bn(){if(Fe)return Mt;Fe=1;const k=Et(),I=de(),u=on(),p=an(),a=sn(),e=ln(),n=un(),t=We(),i=fn(),f=hn(),y=pn(),m=At(),d=wn();function o(B,x){const O=B.size,C=e.getPositions(x);for(let D=0;D<C.length;D++){const j=C[D][0],b=C[D][1];for(let R=-1;R<=7;R++)if(!(j+R<=-1||O<=j+R))for(let s=-1;s<=7;s++)b+s<=-1||O<=b+s||(R>=0&&R<=6&&(s===0||s===6)||s>=0&&s<=6&&(R===0||R===6)||R>=2&&R<=4&&s>=2&&s<=4?B.set(j+R,b+s,!0,!0):B.set(j+R,b+s,!1,!0))}}function h(B){const x=B.size;for(let O=8;O<x-8;O++){const C=O%2===0;B.set(O,6,C,!0),B.set(6,O,C,!0)}}function l(B,x){const O=a.getPositions(x);for(let C=0;C<O.length;C++){const D=O[C][0],j=O[C][1];for(let b=-2;b<=2;b++)for(let R=-2;R<=2;R++)b===-2||b===2||R===-2||R===2||b===0&&R===0?B.set(D+b,j+R,!0,!0):B.set(D+b,j+R,!1,!0)}}function g(B,x){const O=B.size,C=f.getEncodedBits(x);let D,j,b;for(let R=0;R<18;R++)D=Math.floor(R/3),j=R%3+O-8-3,b=(C>>R&1)===1,B.set(D,j,b,!0),B.set(j,D,b,!0)}function c(B,x,O){const C=B.size,D=y.getEncodedBits(x,O);let j,b;for(j=0;j<15;j++)b=(D>>j&1)===1,j<6?B.set(j,8,b,!0):j<8?B.set(j+1,8,b,!0):B.set(C-15+j,8,b,!0),j<8?B.set(8,C-j-1,b,!0):j<9?B.set(8,15-j-1+1,b,!0):B.set(8,15-j-1,b,!0);B.set(C-8,8,1,!0)}function _(B,x){const O=B.size;let C=-1,D=O-1,j=7,b=0;for(let R=O-1;R>0;R-=2)for(R===6&&R--;;){for(let s=0;s<2;s++)if(!B.isReserved(D,R-s)){let U=!1;b<x.length&&(U=(x[b]>>>j&1)===1),B.set(D,R-s,U),j--,j===-1&&(b++,j=7)}if(D+=C,D<0||O<=D){D-=C,C=-C;break}}}function w(B,x,O){const C=new u;O.forEach(function(s){C.put(s.mode.bit,4),C.put(s.getLength(),m.getCharCountIndicator(s.mode,B)),s.write(C)});const D=k.getSymbolTotalCodewords(B),j=t.getTotalCodewordsCount(B,x),b=(D-j)*8;for(C.getLengthInBits()+4<=b&&C.put(0,4);C.getLengthInBits()%8!==0;)C.putBit(0);const R=(b-C.getLengthInBits())/8;for(let s=0;s<R;s++)C.put(s%2?17:236,8);return A(C,B,x)}function A(B,x,O){const C=k.getSymbolTotalCodewords(x),D=t.getTotalCodewordsCount(x,O),j=C-D,b=t.getBlocksCount(x,O),R=C%b,s=b-R,U=Math.floor(C/b),J=Math.floor(j/b),K=J+1,nt=U-J,$=new i(nt);let X=0;const L=new Array(b),z=new Array(b);let Q=0;const V=new Uint8Array(B.buffer);for(let rt=0;rt<b;rt++){const ut=rt<s?J:K;L[rt]=V.slice(X,X+ut),z[rt]=$.encode(L[rt]),X+=ut,Q=Math.max(Q,ut)}const W=new Uint8Array(C);let lt=0,at,et;for(at=0;at<Q;at++)for(et=0;et<b;et++)at<L[et].length&&(W[lt++]=L[et][at]);for(at=0;at<nt;at++)for(et=0;et<b;et++)W[lt++]=z[et][at];return W}function S(B,x,O,C){let D;if(Array.isArray(B))D=d.fromArray(B);else if(typeof B=="string"){let U=x;if(!U){const J=d.rawSplit(B);U=f.getBestVersionForData(J,O)}D=d.fromString(B,U||40)}else throw new Error("Invalid data");const j=f.getBestVersionForData(D,O);if(!j)throw new Error("The amount of data is too big to be stored in a QR Code");if(!x)x=j;else if(x<j)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+j+`.
`);const b=w(x,O,D),R=k.getSymbolSize(x),s=new p(R);return o(s,x),h(s),l(s,x),c(s,O,0),x>=7&&g(s,x),_(s,b),isNaN(C)&&(C=n.getBestMask(s,c.bind(null,s,O))),n.applyMask(C,s),c(s,O,C),{modules:s,version:x,errorCorrectionLevel:O,maskPattern:C,segments:D}}return Mt.create=function(x,O){if(typeof x>"u"||x==="")throw new Error("No input text");let C=I.M,D,j;return typeof O<"u"&&(C=I.from(O.errorCorrectionLevel,I.M),D=f.from(O.version),j=n.from(O.maskPattern),O.toSJISFunc&&k.setToSJISFunction(O.toSJISFunc)),S(x,D,C,j)},Mt}var oe={},ae={},Me;function Qe(){return Me||(Me=1,(function(k){function I(u){if(typeof u=="number"&&(u=u.toString()),typeof u!="string")throw new Error("Color should be defined as hex string");let p=u.slice().replace("#","").split("");if(p.length<3||p.length===5||p.length>8)throw new Error("Invalid hex color: "+u);(p.length===3||p.length===4)&&(p=Array.prototype.concat.apply([],p.map(function(e){return[e,e]}))),p.length===6&&p.push("F","F");const a=parseInt(p.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+p.slice(0,6).join("")}}k.getOptions=function(p){p||(p={}),p.color||(p.color={});const a=typeof p.margin>"u"||p.margin===null||p.margin<0?4:p.margin,e=p.width&&p.width>=21?p.width:void 0,n=p.scale||4;return{width:e,scale:e?4:n,margin:a,color:{dark:I(p.color.dark||"#000000ff"),light:I(p.color.light||"#ffffffff")},type:p.type,rendererOpts:p.rendererOpts||{}}},k.getScale=function(p,a){return a.width&&a.width>=p+a.margin*2?a.width/(p+a.margin*2):a.scale},k.getImageWidth=function(p,a){const e=k.getScale(p,a);return Math.floor((p+a.margin*2)*e)},k.qrToImageData=function(p,a,e){const n=a.modules.size,t=a.modules.data,i=k.getScale(n,e),f=Math.floor((n+e.margin*2)*i),y=e.margin*i,m=[e.color.light,e.color.dark];for(let d=0;d<f;d++)for(let o=0;o<f;o++){let h=(d*f+o)*4,l=e.color.light;if(d>=y&&o>=y&&d<f-y&&o<f-y){const g=Math.floor((d-y)/i),c=Math.floor((o-y)/i);l=m[t[g*n+c]?1:0]}p[h++]=l.r,p[h++]=l.g,p[h++]=l.b,p[h]=l.a}}})(ae)),ae}var je;function kn(){return je||(je=1,(function(k){const I=Qe();function u(a,e,n){a.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}function p(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}k.render=function(e,n,t){let i=t,f=n;typeof i>"u"&&(!n||!n.getContext)&&(i=n,n=void 0),n||(f=p()),i=I.getOptions(i);const y=I.getImageWidth(e.modules.size,i),m=f.getContext("2d"),d=m.createImageData(y,y);return I.qrToImageData(d.data,e,i),u(m,f,y),m.putImageData(d,0,0),f},k.renderToDataURL=function(e,n,t){let i=t;typeof i>"u"&&(!n||!n.getContext)&&(i=n,n=void 0),i||(i={});const f=k.render(e,n,i),y=i.type||"image/png",m=i.rendererOpts||{};return f.toDataURL(y,m.quality)}})(oe)),oe}var se={},qe;function En(){if(qe)return se;qe=1;const k=Qe();function I(a,e){const n=a.a/255,t=e+'="'+a.hex+'"';return n<1?t+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':t}function u(a,e,n){let t=a+e;return typeof n<"u"&&(t+=" "+n),t}function p(a,e,n){let t="",i=0,f=!1,y=0;for(let m=0;m<a.length;m++){const d=Math.floor(m%e),o=Math.floor(m/e);!d&&!f&&(f=!0),a[m]?(y++,m>0&&d>0&&a[m-1]||(t+=f?u("M",d+n,.5+o+n):u("m",i,0),i=0,f=!1),d+1<e&&a[m+1]||(t+=u("h",y),y=0)):i++}return t}return se.render=function(e,n,t){const i=k.getOptions(n),f=e.modules.size,y=e.modules.data,m=f+i.margin*2,d=i.color.light.a?"<path "+I(i.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",o="<path "+I(i.color.dark,"stroke")+' d="'+p(y,f,i.margin)+'"/>',h='viewBox="0 0 '+m+" "+m+'"',g='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+h+' shape-rendering="crispEdges">'+d+o+`</svg>
`;return typeof t=="function"&&t(null,g),g},se}var Ke;function An(){if(Ke)return It;Ke=1;const k=rn(),I=bn(),u=kn(),p=En();function a(e,n,t,i,f){const y=[].slice.call(arguments,1),m=y.length,d=typeof y[m-1]=="function";if(!d&&!k())throw new Error("Callback required as last argument");if(d){if(m<2)throw new Error("Too few arguments provided");m===2?(f=t,t=n,n=i=void 0):m===3&&(n.getContext&&typeof f>"u"?(f=i,i=void 0):(f=i,i=t,t=n,n=void 0))}else{if(m<1)throw new Error("Too few arguments provided");return m===1?(t=n,n=i=void 0):m===2&&!n.getContext&&(i=t,t=n,n=void 0),new Promise(function(o,h){try{const l=I.create(t,i);o(e(l,n,i))}catch(l){h(l)}})}try{const o=I.create(t,i);f(null,e(o,n,i))}catch(o){f(o)}}return It.create=I.create,It.toCanvas=a.bind(null,u.render),It.toDataURL=a.bind(null,u.renderToDataURL),It.toString=a.bind(null,function(e,n,t){return p.render(e,t)}),It}var In=An();const fe=Ze(In),Ye={HOSTNAME:/^[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,60}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,60}[a-zA-Z0-9])?)*$/,PORT:/^([1-9][0-9]{0,3}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/};function le(k,I){let u;return function(...a){const e=()=>{clearTimeout(u),k.apply(this,a)};clearTimeout(u),u=setTimeout(e,I)}}function ft(k){const I=document.createElement("div");return I.textContent=k,I.innerHTML}function Dt(k){if(!k||typeof k!="string")return"";try{const I=k.trim(),u=I.startsWith("http")?I:`https://${I}`;return new URL(u).hostname}catch{const I=k.trim().replace(/^https?:\/\//,"").split("/"),[u]=I,[p]=u.split(":");return p||""}}function ce(k){return k?/^(\d{1,3}\.){3}\d{1,3}$/.test(k)?k.split(".").every(p=>parseInt(p)>=0&&parseInt(p)<=255):Ye.HOSTNAME.test(k):!1}function Je(k){return Ye.PORT.test(String(k))}function Sn(k){try{return new URL(k),!0}catch{return!1}}function Nt(k){throw new Error('Could not dynamically require "'+k+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ue={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var $e;function Cn(){return $e||($e=1,(function(k,I){(function(u){k.exports=u()})(function(){return(function u(p,a,e){function n(f,y){if(!a[f]){if(!p[f]){var m=typeof Nt=="function"&&Nt;if(!y&&m)return m(f,!0);if(t)return t(f,!0);var d=new Error("Cannot find module '"+f+"'");throw d.code="MODULE_NOT_FOUND",d}var o=a[f]={exports:{}};p[f][0].call(o.exports,function(h){var l=p[f][1][h];return n(l||h)},o,o.exports,u,p,a,e)}return a[f].exports}for(var t=typeof Nt=="function"&&Nt,i=0;i<e.length;i++)n(e[i]);return n})({1:[function(u,p,a){var e=u("./utils"),n=u("./support"),t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(i){for(var f,y,m,d,o,h,l,g=[],c=0,_=i.length,w=_,A=e.getTypeOf(i)!=="string";c<i.length;)w=_-c,m=A?(f=i[c++],y=c<_?i[c++]:0,c<_?i[c++]:0):(f=i.charCodeAt(c++),y=c<_?i.charCodeAt(c++):0,c<_?i.charCodeAt(c++):0),d=f>>2,o=(3&f)<<4|y>>4,h=1<w?(15&y)<<2|m>>6:64,l=2<w?63&m:64,g.push(t.charAt(d)+t.charAt(o)+t.charAt(h)+t.charAt(l));return g.join("")},a.decode=function(i){var f,y,m,d,o,h,l=0,g=0,c="data:";if(i.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var _,w=3*(i=i.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(i.charAt(i.length-1)===t.charAt(64)&&w--,i.charAt(i.length-2)===t.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=n.uint8array?new Uint8Array(0|w):new Array(0|w);l<i.length;)f=t.indexOf(i.charAt(l++))<<2|(d=t.indexOf(i.charAt(l++)))>>4,y=(15&d)<<4|(o=t.indexOf(i.charAt(l++)))>>2,m=(3&o)<<6|(h=t.indexOf(i.charAt(l++))),_[g++]=f,o!==64&&(_[g++]=y),h!==64&&(_[g++]=m);return _}},{"./support":30,"./utils":32}],2:[function(u,p,a){var e=u("./external"),n=u("./stream/DataWorker"),t=u("./stream/Crc32Probe"),i=u("./stream/DataLengthProbe");function f(y,m,d,o,h){this.compressedSize=y,this.uncompressedSize=m,this.crc32=d,this.compression=o,this.compressedContent=h}f.prototype={getContentWorker:function(){var y=new n(e.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new i("data_length")),m=this;return y.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),y},getCompressedWorker:function(){return new n(e.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(y,m,d){return y.pipe(new t).pipe(new i("uncompressedSize")).pipe(m.compressWorker(d)).pipe(new i("compressedSize")).withStreamInfo("compression",m)},p.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(u,p,a){var e=u("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new e("STORE compression")},uncompressWorker:function(){return new e("STORE decompression")}},a.DEFLATE=u("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(u,p,a){var e=u("./utils"),n=(function(){for(var t,i=[],f=0;f<256;f++){t=f;for(var y=0;y<8;y++)t=1&t?3988292384^t>>>1:t>>>1;i[f]=t}return i})();p.exports=function(t,i){return t!==void 0&&t.length?e.getTypeOf(t)!=="string"?(function(f,y,m,d){var o=n,h=d+m;f^=-1;for(var l=d;l<h;l++)f=f>>>8^o[255&(f^y[l])];return-1^f})(0|i,t,t.length,0):(function(f,y,m,d){var o=n,h=d+m;f^=-1;for(var l=d;l<h;l++)f=f>>>8^o[255&(f^y.charCodeAt(l))];return-1^f})(0|i,t,t.length,0):0}},{"./utils":32}],5:[function(u,p,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(u,p,a){var e=null;e=typeof Promise<"u"?Promise:u("lie"),p.exports={Promise:e}},{lie:37}],7:[function(u,p,a){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",n=u("pako"),t=u("./utils"),i=u("./stream/GenericWorker"),f=e?"uint8array":"array";function y(m,d){i.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=d,this.meta={}}a.magic="\b\0",t.inherits(y,i),y.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(t.transformTo(f,m.data),!1)},y.prototype.flush=function(){i.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},y.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this._pako=null},y.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(d){m.push({data:d,meta:m.meta})}},a.compressWorker=function(m){return new y("Deflate",m)},a.uncompressWorker=function(){return new y("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(u,p,a){function e(o,h){var l,g="";for(l=0;l<h;l++)g+=String.fromCharCode(255&o),o>>>=8;return g}function n(o,h,l,g,c,_){var w,A,S=o.file,B=o.compression,x=_!==f.utf8encode,O=t.transformTo("string",_(S.name)),C=t.transformTo("string",f.utf8encode(S.name)),D=S.comment,j=t.transformTo("string",_(D)),b=t.transformTo("string",f.utf8encode(D)),R=C.length!==S.name.length,s=b.length!==D.length,U="",J="",K="",nt=S.dir,$=S.date,X={crc32:0,compressedSize:0,uncompressedSize:0};h&&!l||(X.crc32=o.crc32,X.compressedSize=o.compressedSize,X.uncompressedSize=o.uncompressedSize);var L=0;h&&(L|=8),x||!R&&!s||(L|=2048);var z=0,Q=0;nt&&(z|=16),c==="UNIX"?(Q=798,z|=(function(W,lt){var at=W;return W||(at=lt?16893:33204),(65535&at)<<16})(S.unixPermissions,nt)):(Q=20,z|=(function(W){return 63&(W||0)})(S.dosPermissions)),w=$.getUTCHours(),w<<=6,w|=$.getUTCMinutes(),w<<=5,w|=$.getUTCSeconds()/2,A=$.getUTCFullYear()-1980,A<<=4,A|=$.getUTCMonth()+1,A<<=5,A|=$.getUTCDate(),R&&(J=e(1,1)+e(y(O),4)+C,U+="up"+e(J.length,2)+J),s&&(K=e(1,1)+e(y(j),4)+b,U+="uc"+e(K.length,2)+K);var V="";return V+=`
\0`,V+=e(L,2),V+=B.magic,V+=e(w,2),V+=e(A,2),V+=e(X.crc32,4),V+=e(X.compressedSize,4),V+=e(X.uncompressedSize,4),V+=e(O.length,2),V+=e(U.length,2),{fileRecord:m.LOCAL_FILE_HEADER+V+O+U,dirRecord:m.CENTRAL_FILE_HEADER+e(Q,2)+V+e(j.length,2)+"\0\0\0\0"+e(z,4)+e(g,4)+O+U+j}}var t=u("../utils"),i=u("../stream/GenericWorker"),f=u("../utf8"),y=u("../crc32"),m=u("../signature");function d(o,h,l,g){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=h,this.zipPlatform=l,this.encodeFileName=g,this.streamFiles=o,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}t.inherits(d,i),d.prototype.push=function(o){var h=o.meta.percent||0,l=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(o):(this.bytesWritten+=o.data.length,i.prototype.push.call(this,{data:o.data,meta:{currentFile:this.currentFile,percent:l?(h+100*(l-g-1))/l:100}}))},d.prototype.openedSource=function(o){this.currentSourceOffset=this.bytesWritten,this.currentFile=o.file.name;var h=this.streamFiles&&!o.file.dir;if(h){var l=n(o,h,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:l.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(o){this.accumulate=!1;var h=this.streamFiles&&!o.file.dir,l=n(o,h,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(l.dirRecord),h)this.push({data:(function(g){return m.DATA_DESCRIPTOR+e(g.crc32,4)+e(g.compressedSize,4)+e(g.uncompressedSize,4)})(o),meta:{percent:100}});else for(this.push({data:l.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var o=this.bytesWritten,h=0;h<this.dirRecords.length;h++)this.push({data:this.dirRecords[h],meta:{percent:100}});var l=this.bytesWritten-o,g=(function(c,_,w,A,S){var B=t.transformTo("string",S(A));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+e(c,2)+e(c,2)+e(_,4)+e(w,4)+e(B.length,2)+B})(this.dirRecords.length,l,o,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(o){this._sources.push(o);var h=this;return o.on("data",function(l){h.processChunk(l)}),o.on("end",function(){h.closedSource(h.previous.streamInfo),h._sources.length?h.prepareNextSource():h.end()}),o.on("error",function(l){h.error(l)}),this},d.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(o){var h=this._sources;if(!i.prototype.error.call(this,o))return!1;for(var l=0;l<h.length;l++)try{h[l].error(o)}catch{}return!0},d.prototype.lock=function(){i.prototype.lock.call(this);for(var o=this._sources,h=0;h<o.length;h++)o[h].lock()},p.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(u,p,a){var e=u("../compressions"),n=u("./ZipFileWorker");a.generateWorker=function(t,i,f){var y=new n(i.streamFiles,f,i.platform,i.encodeFileName),m=0;try{t.forEach(function(d,o){m++;var h=(function(_,w){var A=_||w,S=e[A];if(!S)throw new Error(A+" is not a valid compression method !");return S})(o.options.compression,i.compression),l=o.options.compressionOptions||i.compressionOptions||{},g=o.dir,c=o.date;o._compressWorker(h,l).withStreamInfo("file",{name:d,dir:g,date:c,comment:o.comment||"",unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions}).pipe(y)}),y.entriesCount=m}catch(d){y.error(d)}return y}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(u,p,a){function e(){if(!(this instanceof e))return new e;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var n=new e;for(var t in this)typeof this[t]!="function"&&(n[t]=this[t]);return n}}(e.prototype=u("./object")).loadAsync=u("./load"),e.support=u("./support"),e.defaults=u("./defaults"),e.version="3.10.1",e.loadAsync=function(n,t){return new e().loadAsync(n,t)},e.external=u("./external"),p.exports=e},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(u,p,a){var e=u("./utils"),n=u("./external"),t=u("./utf8"),i=u("./zipEntries"),f=u("./stream/Crc32Probe"),y=u("./nodejsUtils");function m(d){return new n.Promise(function(o,h){var l=d.decompressed.getContentWorker().pipe(new f);l.on("error",function(g){h(g)}).on("end",function(){l.streamInfo.crc32!==d.decompressed.crc32?h(new Error("Corrupted zip : CRC32 mismatch")):o()}).resume()})}p.exports=function(d,o){var h=this;return o=e.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:t.utf8decode}),y.isNode&&y.isStream(d)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):e.prepareContent("the loaded zip file",d,!0,o.optimizedBinaryString,o.base64).then(function(l){var g=new i(o);return g.load(l),g}).then(function(l){var g=[n.Promise.resolve(l)],c=l.files;if(o.checkCRC32)for(var _=0;_<c.length;_++)g.push(m(c[_]));return n.Promise.all(g)}).then(function(l){for(var g=l.shift(),c=g.files,_=0;_<c.length;_++){var w=c[_],A=w.fileNameStr,S=e.resolve(w.fileNameStr);h.file(S,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:o.createFolders}),w.dir||(h.file(S).unsafeOriginalName=A)}return g.zipComment.length&&(h.comment=g.zipComment),h})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(u,p,a){var e=u("../utils"),n=u("../stream/GenericWorker");function t(i,f){n.call(this,"Nodejs stream input adapter for "+i),this._upstreamEnded=!1,this._bindStream(f)}e.inherits(t,n),t.prototype._bindStream=function(i){var f=this;(this._stream=i).pause(),i.on("data",function(y){f.push({data:y,meta:{percent:0}})}).on("error",function(y){f.isPaused?this.generatedError=y:f.error(y)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},t.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},t.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},p.exports=t},{"../stream/GenericWorker":28,"../utils":32}],13:[function(u,p,a){var e=u("readable-stream").Readable;function n(t,i,f){e.call(this,i),this._helper=t;var y=this;t.on("data",function(m,d){y.push(m)||y._helper.pause(),f&&f(d)}).on("error",function(m){y.emit("error",m)}).on("end",function(){y.push(null)})}u("../utils").inherits(n,e),n.prototype._read=function(){this._helper.resume()},p.exports=n},{"../utils":32,"readable-stream":16}],14:[function(u,p,a){p.exports={isNode:typeof Buffer<"u",newBufferFrom:function(e,n){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,n);if(typeof e=="number")throw new Error('The "data" argument must not be a number');return new Buffer(e,n)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var n=new Buffer(e);return n.fill(0),n},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&typeof e.on=="function"&&typeof e.pause=="function"&&typeof e.resume=="function"}}},{}],15:[function(u,p,a){function e(S,B,x){var O,C=t.getTypeOf(B),D=t.extend(x||{},y);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(S=c(S)),D.createFolders&&(O=g(S))&&_.call(this,O,!0);var j=C==="string"&&D.binary===!1&&D.base64===!1;x&&x.binary!==void 0||(D.binary=!j),(B instanceof m&&B.uncompressedSize===0||D.dir||!B||B.length===0)&&(D.base64=!1,D.binary=!0,B="",D.compression="STORE",C="string");var b=null;b=B instanceof m||B instanceof i?B:h.isNode&&h.isStream(B)?new l(S,B):t.prepareContent(S,B,D.binary,D.optimizedBinaryString,D.base64);var R=new d(S,b,D);this.files[S]=R}var n=u("./utf8"),t=u("./utils"),i=u("./stream/GenericWorker"),f=u("./stream/StreamHelper"),y=u("./defaults"),m=u("./compressedObject"),d=u("./zipObject"),o=u("./generate"),h=u("./nodejsUtils"),l=u("./nodejs/NodejsStreamInputAdapter"),g=function(S){S.slice(-1)==="/"&&(S=S.substring(0,S.length-1));var B=S.lastIndexOf("/");return 0<B?S.substring(0,B):""},c=function(S){return S.slice(-1)!=="/"&&(S+="/"),S},_=function(S,B){return B=B!==void 0?B:y.createFolders,S=c(S),this.files[S]||e.call(this,S,null,{dir:!0,createFolders:B}),this.files[S]};function w(S){return Object.prototype.toString.call(S)==="[object RegExp]"}var A={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(S){var B,x,O;for(B in this.files)O=this.files[B],(x=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&S(x,O)},filter:function(S){var B=[];return this.forEach(function(x,O){S(x,O)&&B.push(O)}),B},file:function(S,B,x){if(arguments.length!==1)return S=this.root+S,e.call(this,S,B,x),this;if(w(S)){var O=S;return this.filter(function(D,j){return!j.dir&&O.test(D)})}var C=this.files[this.root+S];return C&&!C.dir?C:null},folder:function(S){if(!S)return this;if(w(S))return this.filter(function(C,D){return D.dir&&S.test(C)});var B=this.root+S,x=_.call(this,B),O=this.clone();return O.root=x.name,O},remove:function(S){S=this.root+S;var B=this.files[S];if(B||(S.slice(-1)!=="/"&&(S+="/"),B=this.files[S]),B&&!B.dir)delete this.files[S];else for(var x=this.filter(function(C,D){return D.name.slice(0,S.length)===S}),O=0;O<x.length;O++)delete this.files[x[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(S){var B,x={};try{if((x=t.extend(S||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode})).type=x.type.toLowerCase(),x.compression=x.compression.toUpperCase(),x.type==="binarystring"&&(x.type="string"),!x.type)throw new Error("No output type specified.");t.checkSupport(x.type),x.platform!=="darwin"&&x.platform!=="freebsd"&&x.platform!=="linux"&&x.platform!=="sunos"||(x.platform="UNIX"),x.platform==="win32"&&(x.platform="DOS");var O=x.comment||this.comment||"";B=o.generateWorker(this,x,O)}catch(C){(B=new i("error")).error(C)}return new f(B,x.type||"string",x.mimeType)},generateAsync:function(S,B){return this.generateInternalStream(S).accumulate(B)},generateNodeStream:function(S,B){return(S=S||{}).type||(S.type="nodebuffer"),this.generateInternalStream(S).toNodejsStream(B)}};p.exports=A},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(u,p,a){p.exports=u("stream")},{stream:void 0}],17:[function(u,p,a){var e=u("./DataReader");function n(t){e.call(this,t);for(var i=0;i<this.data.length;i++)t[i]=255&t[i]}u("../utils").inherits(n,e),n.prototype.byteAt=function(t){return this.data[this.zero+t]},n.prototype.lastIndexOfSignature=function(t){for(var i=t.charCodeAt(0),f=t.charCodeAt(1),y=t.charCodeAt(2),m=t.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===i&&this.data[d+1]===f&&this.data[d+2]===y&&this.data[d+3]===m)return d-this.zero;return-1},n.prototype.readAndCheckSignature=function(t){var i=t.charCodeAt(0),f=t.charCodeAt(1),y=t.charCodeAt(2),m=t.charCodeAt(3),d=this.readData(4);return i===d[0]&&f===d[1]&&y===d[2]&&m===d[3]},n.prototype.readData=function(t){if(this.checkOffset(t),t===0)return[];var i=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,i},p.exports=n},{"../utils":32,"./DataReader":18}],18:[function(u,p,a){var e=u("../utils");function n(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var i,f=0;for(this.checkOffset(t),i=this.index+t-1;i>=this.index;i--)f=(f<<8)+this.byteAt(i);return this.index+=t,f},readString:function(t){return e.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},p.exports=n},{"../utils":32}],19:[function(u,p,a){var e=u("./Uint8ArrayReader");function n(t){e.call(this,t)}u("../utils").inherits(n,e),n.prototype.readData=function(t){this.checkOffset(t);var i=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,i},p.exports=n},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(u,p,a){var e=u("./DataReader");function n(t){e.call(this,t)}u("../utils").inherits(n,e),n.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},n.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},n.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},n.prototype.readData=function(t){this.checkOffset(t);var i=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,i},p.exports=n},{"../utils":32,"./DataReader":18}],21:[function(u,p,a){var e=u("./ArrayReader");function n(t){e.call(this,t)}u("../utils").inherits(n,e),n.prototype.readData=function(t){if(this.checkOffset(t),t===0)return new Uint8Array(0);var i=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,i},p.exports=n},{"../utils":32,"./ArrayReader":17}],22:[function(u,p,a){var e=u("../utils"),n=u("../support"),t=u("./ArrayReader"),i=u("./StringReader"),f=u("./NodeBufferReader"),y=u("./Uint8ArrayReader");p.exports=function(m){var d=e.getTypeOf(m);return e.checkSupport(d),d!=="string"||n.uint8array?d==="nodebuffer"?new f(m):n.uint8array?new y(e.transformTo("uint8array",m)):new t(e.transformTo("array",m)):new i(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(u,p,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(u,p,a){var e=u("./GenericWorker"),n=u("../utils");function t(i){e.call(this,"ConvertWorker to "+i),this.destType=i}n.inherits(t,e),t.prototype.processChunk=function(i){this.push({data:n.transformTo(this.destType,i.data),meta:i.meta})},p.exports=t},{"../utils":32,"./GenericWorker":28}],25:[function(u,p,a){var e=u("./GenericWorker"),n=u("../crc32");function t(){e.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}u("../utils").inherits(t,e),t.prototype.processChunk=function(i){this.streamInfo.crc32=n(i.data,this.streamInfo.crc32||0),this.push(i)},p.exports=t},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(u,p,a){var e=u("../utils"),n=u("./GenericWorker");function t(i){n.call(this,"DataLengthProbe for "+i),this.propName=i,this.withStreamInfo(i,0)}e.inherits(t,n),t.prototype.processChunk=function(i){if(i){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+i.data.length}n.prototype.processChunk.call(this,i)},p.exports=t},{"../utils":32,"./GenericWorker":28}],27:[function(u,p,a){var e=u("../utils"),n=u("./GenericWorker");function t(i){n.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,i.then(function(y){f.dataIsReady=!0,f.data=y,f.max=y&&y.length||0,f.type=e.getTypeOf(y),f.isPaused||f._tickAndRepeat()},function(y){f.error(y)})}e.inherits(t,n),t.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},t.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,e.delay(this._tickAndRepeat,[],this)),!0)},t.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(e.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},t.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var i=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":i=this.data.substring(this.index,f);break;case"uint8array":i=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":i=this.data.slice(this.index,f)}return this.index=f,this.push({data:i,meta:{percent:this.max?this.index/this.max*100:0}})},p.exports=t},{"../utils":32,"./GenericWorker":28}],28:[function(u,p,a){function e(n){this.name=n||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}e.prototype={push:function(n){this.emit("data",n)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(n){this.emit("error",n)}return!0},error:function(n){return!this.isFinished&&(this.isPaused?this.generatedError=n:(this.isFinished=!0,this.emit("error",n),this.previous&&this.previous.error(n),this.cleanUp()),!0)},on:function(n,t){return this._listeners[n].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(n,t){if(this._listeners[n])for(var i=0;i<this._listeners[n].length;i++)this._listeners[n][i].call(this,t)},pipe:function(n){return n.registerPrevious(this)},registerPrevious:function(n){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=n.streamInfo,this.mergeStreamInfo(),this.previous=n;var t=this;return n.on("data",function(i){t.processChunk(i)}),n.on("end",function(){t.end()}),n.on("error",function(i){t.error(i)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var n=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),n=!0),this.previous&&this.previous.resume(),!n},flush:function(){},processChunk:function(n){this.push(n)},withStreamInfo:function(n,t){return this.extraStreamInfo[n]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var n in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,n)&&(this.streamInfo[n]=this.extraStreamInfo[n])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var n="Worker "+this.name;return this.previous?this.previous+" -> "+n:n}},p.exports=e},{}],29:[function(u,p,a){var e=u("../utils"),n=u("./ConvertWorker"),t=u("./GenericWorker"),i=u("../base64"),f=u("../support"),y=u("../external"),m=null;if(f.nodestream)try{m=u("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(h,l){return new y.Promise(function(g,c){var _=[],w=h._internalType,A=h._outputType,S=h._mimeType;h.on("data",function(B,x){_.push(B),l&&l(x)}).on("error",function(B){_=[],c(B)}).on("end",function(){try{var B=(function(x,O,C){switch(x){case"blob":return e.newBlob(e.transformTo("arraybuffer",O),C);case"base64":return i.encode(O);default:return e.transformTo(x,O)}})(A,(function(x,O){var C,D=0,j=null,b=0;for(C=0;C<O.length;C++)b+=O[C].length;switch(x){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for(j=new Uint8Array(b),C=0;C<O.length;C++)j.set(O[C],D),D+=O[C].length;return j;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+x+"'")}})(w,_),S);g(B)}catch(x){c(x)}_=[]}).resume()})}function o(h,l,g){var c=l;switch(l){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=l,this._mimeType=g,e.checkSupport(c),this._worker=h.pipe(new n(c)),h.lock()}catch(_){this._worker=new t("error"),this._worker.error(_)}}o.prototype={accumulate:function(h){return d(this,h)},on:function(h,l){var g=this;return h==="data"?this._worker.on(h,function(c){l.call(g,c.data,c.meta)}):this._worker.on(h,function(){e.delay(l,arguments,g)}),this},resume:function(){return e.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(h){if(e.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},h)}},p.exports=o},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(u,p,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var e=new ArrayBuffer(0);try{a.blob=new Blob([e],{type:"application/zip"}).size===0}catch{try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(e),a.blob=n.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!u("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(u,p,a){for(var e=u("./utils"),n=u("./support"),t=u("./nodejsUtils"),i=u("./stream/GenericWorker"),f=new Array(256),y=0;y<256;y++)f[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;f[254]=f[254]=1;function m(){i.call(this,"utf-8 decode"),this.leftOver=null}function d(){i.call(this,"utf-8 encode")}a.utf8encode=function(o){return n.nodebuffer?t.newBufferFrom(o,"utf-8"):(function(h){var l,g,c,_,w,A=h.length,S=0;for(_=0;_<A;_++)(64512&(g=h.charCodeAt(_)))==55296&&_+1<A&&(64512&(c=h.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(c-56320),_++),S+=g<128?1:g<2048?2:g<65536?3:4;for(l=n.uint8array?new Uint8Array(S):new Array(S),_=w=0;w<S;_++)(64512&(g=h.charCodeAt(_)))==55296&&_+1<A&&(64512&(c=h.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(c-56320),_++),g<128?l[w++]=g:(g<2048?l[w++]=192|g>>>6:(g<65536?l[w++]=224|g>>>12:(l[w++]=240|g>>>18,l[w++]=128|g>>>12&63),l[w++]=128|g>>>6&63),l[w++]=128|63&g);return l})(o)},a.utf8decode=function(o){return n.nodebuffer?e.transformTo("nodebuffer",o).toString("utf-8"):(function(h){var l,g,c,_,w=h.length,A=new Array(2*w);for(l=g=0;l<w;)if((c=h[l++])<128)A[g++]=c;else if(4<(_=f[c]))A[g++]=65533,l+=_-1;else{for(c&=_===2?31:_===3?15:7;1<_&&l<w;)c=c<<6|63&h[l++],_--;1<_?A[g++]=65533:c<65536?A[g++]=c:(c-=65536,A[g++]=55296|c>>10&1023,A[g++]=56320|1023&c)}return A.length!==g&&(A.subarray?A=A.subarray(0,g):A.length=g),e.applyFromCharCode(A)})(o=e.transformTo(n.uint8array?"uint8array":"array",o))},e.inherits(m,i),m.prototype.processChunk=function(o){var h=e.transformTo(n.uint8array?"uint8array":"array",o.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var l=h;(h=new Uint8Array(l.length+this.leftOver.length)).set(this.leftOver,0),h.set(l,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var g=(function(_,w){var A;for((w=w||_.length)>_.length&&(w=_.length),A=w-1;0<=A&&(192&_[A])==128;)A--;return A<0||A===0?w:A+f[_[A]]>w?A:w})(h),c=h;g!==h.length&&(n.uint8array?(c=h.subarray(0,g),this.leftOver=h.subarray(g,h.length)):(c=h.slice(0,g),this.leftOver=h.slice(g,h.length))),this.push({data:a.utf8decode(c),meta:o.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=m,e.inherits(d,i),d.prototype.processChunk=function(o){this.push({data:a.utf8encode(o.data),meta:o.meta})},a.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(u,p,a){var e=u("./support"),n=u("./base64"),t=u("./nodejsUtils"),i=u("./external");function f(l){return l}function y(l,g){for(var c=0;c<l.length;++c)g[c]=255&l.charCodeAt(c);return g}u("setimmediate"),a.newBlob=function(l,g){a.checkSupport("blob");try{return new Blob([l],{type:g})}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(l),c.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(l,g,c){var _=[],w=0,A=l.length;if(A<=c)return String.fromCharCode.apply(null,l);for(;w<A;)g==="array"||g==="nodebuffer"?_.push(String.fromCharCode.apply(null,l.slice(w,Math.min(w+c,A)))):_.push(String.fromCharCode.apply(null,l.subarray(w,Math.min(w+c,A)))),w+=c;return _.join("")},stringifyByChar:function(l){for(var g="",c=0;c<l.length;c++)g+=String.fromCharCode(l[c]);return g},applyCanBeUsed:{uint8array:(function(){try{return e.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return e.nodebuffer&&String.fromCharCode.apply(null,t.allocBuffer(1)).length===1}catch{return!1}})()}};function d(l){var g=65536,c=a.getTypeOf(l),_=!0;if(c==="uint8array"?_=m.applyCanBeUsed.uint8array:c==="nodebuffer"&&(_=m.applyCanBeUsed.nodebuffer),_)for(;1<g;)try{return m.stringifyByChunk(l,c,g)}catch{g=Math.floor(g/2)}return m.stringifyByChar(l)}function o(l,g){for(var c=0;c<l.length;c++)g[c]=l[c];return g}a.applyFromCharCode=d;var h={};h.string={string:f,array:function(l){return y(l,new Array(l.length))},arraybuffer:function(l){return h.string.uint8array(l).buffer},uint8array:function(l){return y(l,new Uint8Array(l.length))},nodebuffer:function(l){return y(l,t.allocBuffer(l.length))}},h.array={string:d,array:f,arraybuffer:function(l){return new Uint8Array(l).buffer},uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return t.newBufferFrom(l)}},h.arraybuffer={string:function(l){return d(new Uint8Array(l))},array:function(l){return o(new Uint8Array(l),new Array(l.byteLength))},arraybuffer:f,uint8array:function(l){return new Uint8Array(l)},nodebuffer:function(l){return t.newBufferFrom(new Uint8Array(l))}},h.uint8array={string:d,array:function(l){return o(l,new Array(l.length))},arraybuffer:function(l){return l.buffer},uint8array:f,nodebuffer:function(l){return t.newBufferFrom(l)}},h.nodebuffer={string:d,array:function(l){return o(l,new Array(l.length))},arraybuffer:function(l){return h.nodebuffer.uint8array(l).buffer},uint8array:function(l){return o(l,new Uint8Array(l.length))},nodebuffer:f},a.transformTo=function(l,g){if(g=g||"",!l)return g;a.checkSupport(l);var c=a.getTypeOf(g);return h[c][l](g)},a.resolve=function(l){for(var g=l.split("/"),c=[],_=0;_<g.length;_++){var w=g[_];w==="."||w===""&&_!==0&&_!==g.length-1||(w===".."?c.pop():c.push(w))}return c.join("/")},a.getTypeOf=function(l){return typeof l=="string"?"string":Object.prototype.toString.call(l)==="[object Array]"?"array":e.nodebuffer&&t.isBuffer(l)?"nodebuffer":e.uint8array&&l instanceof Uint8Array?"uint8array":e.arraybuffer&&l instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(l){if(!e[l.toLowerCase()])throw new Error(l+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(l){var g,c,_="";for(c=0;c<(l||"").length;c++)_+="\\x"+((g=l.charCodeAt(c))<16?"0":"")+g.toString(16).toUpperCase();return _},a.delay=function(l,g,c){setImmediate(function(){l.apply(c||null,g||[])})},a.inherits=function(l,g){function c(){}c.prototype=g.prototype,l.prototype=new c},a.extend=function(){var l,g,c={};for(l=0;l<arguments.length;l++)for(g in arguments[l])Object.prototype.hasOwnProperty.call(arguments[l],g)&&c[g]===void 0&&(c[g]=arguments[l][g]);return c},a.prepareContent=function(l,g,c,_,w){return i.Promise.resolve(g).then(function(A){return e.blob&&(A instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(A))!==-1)&&typeof FileReader<"u"?new i.Promise(function(S,B){var x=new FileReader;x.onload=function(O){S(O.target.result)},x.onerror=function(O){B(O.target.error)},x.readAsArrayBuffer(A)}):A}).then(function(A){var S=a.getTypeOf(A);return S?(S==="arraybuffer"?A=a.transformTo("uint8array",A):S==="string"&&(w?A=n.decode(A):c&&_!==!0&&(A=(function(B){return y(B,e.uint8array?new Uint8Array(B.length):new Array(B.length))})(A))),A):i.Promise.reject(new Error("Can't read the data of '"+l+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(u,p,a){var e=u("./reader/readerFor"),n=u("./utils"),t=u("./signature"),i=u("./zipEntry"),f=u("./support");function y(m){this.files=[],this.loadOptions=m}y.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(d)+", expected "+n.pretty(m)+")")}},isSignature:function(m,d){var o=this.reader.index;this.reader.setIndex(m);var h=this.reader.readString(4)===d;return this.reader.setIndex(o),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),d=f.uint8array?"uint8array":"array",o=n.transformTo(d,m);this.zipComment=this.loadOptions.decodeFileName(o)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,d,o,h=this.zip64EndOfCentralSize-44;0<h;)m=this.reader.readInt(2),d=this.reader.readInt(4),o=this.reader.readData(d),this.zip64ExtensibleData[m]={id:m,length:d,value:o}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,d;for(m=0;m<this.files.length;m++)d=this.files[m],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(t.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(t.CENTRAL_FILE_HEADER);)(m=new i({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(t.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,t.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var d=m;if(this.checkSignature(t.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(t.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(t.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,t.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(t.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(t.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var o=this.centralDirOffset+this.centralDirSize;this.zip64&&(o+=20,o+=12+this.zip64EndOfCentralSize);var h=d-o;if(0<h)this.isSignature(d,t.CENTRAL_FILE_HEADER)||(this.reader.zero=h);else if(h<0)throw new Error("Corrupted zip: missing "+Math.abs(h)+" bytes.")},prepareReader:function(m){this.reader=e(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},p.exports=y},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(u,p,a){var e=u("./reader/readerFor"),n=u("./utils"),t=u("./compressedObject"),i=u("./crc32"),f=u("./utf8"),y=u("./compressions"),m=u("./support");function d(o,h){this.options=o,this.loadOptions=h}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(o){var h,l;if(o.skip(22),this.fileNameLength=o.readInt(2),l=o.readInt(2),this.fileName=o.readData(this.fileNameLength),o.skip(l),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((h=(function(g){for(var c in y)if(Object.prototype.hasOwnProperty.call(y,c)&&y[c].magic===g)return y[c];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new t(this.compressedSize,this.uncompressedSize,this.crc32,h,o.readData(this.compressedSize))},readCentralPart:function(o){this.versionMadeBy=o.readInt(2),o.skip(2),this.bitFlag=o.readInt(2),this.compressionMethod=o.readString(2),this.date=o.readDate(),this.crc32=o.readInt(4),this.compressedSize=o.readInt(4),this.uncompressedSize=o.readInt(4);var h=o.readInt(2);if(this.extraFieldsLength=o.readInt(2),this.fileCommentLength=o.readInt(2),this.diskNumberStart=o.readInt(2),this.internalFileAttributes=o.readInt(2),this.externalFileAttributes=o.readInt(4),this.localHeaderOffset=o.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");o.skip(h),this.readExtraFields(o),this.parseZIP64ExtraField(o),this.fileComment=o.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var o=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),o==0&&(this.dosPermissions=63&this.externalFileAttributes),o==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var o=e(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=o.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=o.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=o.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=o.readInt(4))}},readExtraFields:function(o){var h,l,g,c=o.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});o.index+4<c;)h=o.readInt(2),l=o.readInt(2),g=o.readData(l),this.extraFields[h]={id:h,length:l,value:g};o.setIndex(c)},handleUTF8:function(){var o=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(h!==null)this.fileNameStr=h;else{var l=n.transformTo(o,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(l)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var c=n.transformTo(o,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(c)}}},findExtraFieldUnicodePath:function(){var o=this.extraFields[28789];if(o){var h=e(o.value);return h.readInt(1)!==1||i(this.fileName)!==h.readInt(4)?null:f.utf8decode(h.readData(o.length-5))}return null},findExtraFieldUnicodeComment:function(){var o=this.extraFields[25461];if(o){var h=e(o.value);return h.readInt(1)!==1||i(this.fileComment)!==h.readInt(4)?null:f.utf8decode(h.readData(o.length-5))}return null}},p.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(u,p,a){function e(h,l,g){this.name=h,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=l,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var n=u("./stream/StreamHelper"),t=u("./stream/DataWorker"),i=u("./utf8"),f=u("./compressedObject"),y=u("./stream/GenericWorker");e.prototype={internalStream:function(h){var l=null,g="string";try{if(!h)throw new Error("No output type specified.");var c=(g=h.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),l=this._decompressWorker();var _=!this._dataBinary;_&&!c&&(l=l.pipe(new i.Utf8EncodeWorker)),!_&&c&&(l=l.pipe(new i.Utf8DecodeWorker))}catch(w){(l=new y("error")).error(w)}return new n(l,g,"")},async:function(h,l){return this.internalStream(h).accumulate(l)},nodeStream:function(h,l){return this.internalStream(h||"nodebuffer").toNodejsStream(l)},_compressWorker:function(h,l){if(this._data instanceof f&&this._data.compression.magic===h.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new i.Utf8EncodeWorker)),f.createWorkerFrom(g,h,l)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof y?this._data:new t(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},o=0;o<m.length;o++)e.prototype[m[o]]=d;p.exports=e},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(u,p,a){(function(e){var n,t,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var f=0,y=new i(h),m=e.document.createTextNode("");y.observe(m,{characterData:!0}),n=function(){m.data=f=++f%2}}else if(e.setImmediate||e.MessageChannel===void 0)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var l=e.document.createElement("script");l.onreadystatechange=function(){h(),l.onreadystatechange=null,l.parentNode.removeChild(l),l=null},e.document.documentElement.appendChild(l)}:function(){setTimeout(h,0)};else{var d=new e.MessageChannel;d.port1.onmessage=h,n=function(){d.port2.postMessage(0)}}var o=[];function h(){var l,g;t=!0;for(var c=o.length;c;){for(g=o,o=[],l=-1;++l<c;)g[l]();c=o.length}t=!1}p.exports=function(l){o.push(l)!==1||t||n()}}).call(this,typeof Ot<"u"?Ot:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(u,p,a){var e=u("immediate");function n(){}var t={},i=["REJECTED"],f=["FULFILLED"],y=["PENDING"];function m(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,c!==n&&l(this,c)}function d(c,_,w){this.promise=c,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function o(c,_,w){e(function(){var A;try{A=_(w)}catch(S){return t.reject(c,S)}A===c?t.reject(c,new TypeError("Cannot resolve promise with itself")):t.resolve(c,A)})}function h(c){var _=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof _=="function")return function(){_.apply(c,arguments)}}function l(c,_){var w=!1;function A(x){w||(w=!0,t.reject(c,x))}function S(x){w||(w=!0,t.resolve(c,x))}var B=g(function(){_(S,A)});B.status==="error"&&A(B.value)}function g(c,_){var w={};try{w.value=c(_),w.status="success"}catch(A){w.status="error",w.value=A}return w}(p.exports=m).prototype.finally=function(c){if(typeof c!="function")return this;var _=this.constructor;return this.then(function(w){return _.resolve(c()).then(function(){return w})},function(w){return _.resolve(c()).then(function(){throw w})})},m.prototype.catch=function(c){return this.then(null,c)},m.prototype.then=function(c,_){if(typeof c!="function"&&this.state===f||typeof _!="function"&&this.state===i)return this;var w=new this.constructor(n);return this.state!==y?o(w,this.state===f?c:_,this.outcome):this.queue.push(new d(w,c,_)),w},d.prototype.callFulfilled=function(c){t.resolve(this.promise,c)},d.prototype.otherCallFulfilled=function(c){o(this.promise,this.onFulfilled,c)},d.prototype.callRejected=function(c){t.reject(this.promise,c)},d.prototype.otherCallRejected=function(c){o(this.promise,this.onRejected,c)},t.resolve=function(c,_){var w=g(h,_);if(w.status==="error")return t.reject(c,w.value);var A=w.value;if(A)l(c,A);else{c.state=f,c.outcome=_;for(var S=-1,B=c.queue.length;++S<B;)c.queue[S].callFulfilled(_)}return c},t.reject=function(c,_){c.state=i,c.outcome=_;for(var w=-1,A=c.queue.length;++w<A;)c.queue[w].callRejected(_);return c},m.resolve=function(c){return c instanceof this?c:t.resolve(new this(n),c)},m.reject=function(c){var _=new this(n);return t.reject(_,c)},m.all=function(c){var _=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=c.length,A=!1;if(!w)return this.resolve([]);for(var S=new Array(w),B=0,x=-1,O=new this(n);++x<w;)C(c[x],x);return O;function C(D,j){_.resolve(D).then(function(b){S[j]=b,++B!==w||A||(A=!0,t.resolve(O,S))},function(b){A||(A=!0,t.reject(O,b))})}},m.race=function(c){var _=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=c.length,A=!1;if(!w)return this.resolve([]);for(var S=-1,B=new this(n);++S<w;)x=c[S],_.resolve(x).then(function(O){A||(A=!0,t.resolve(B,O))},function(O){A||(A=!0,t.reject(B,O))});var x;return B}},{immediate:36}],38:[function(u,p,a){var e={};(0,u("./lib/utils/common").assign)(e,u("./lib/deflate"),u("./lib/inflate"),u("./lib/zlib/constants")),p.exports=e},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(u,p,a){var e=u("./zlib/deflate"),n=u("./utils/common"),t=u("./utils/strings"),i=u("./zlib/messages"),f=u("./zlib/zstream"),y=Object.prototype.toString,m=0,d=-1,o=0,h=8;function l(c){if(!(this instanceof l))return new l(c);this.options=n.assign({level:d,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:o,to:""},c||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var w=e.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(w!==m)throw new Error(i[w]);if(_.header&&e.deflateSetHeader(this.strm,_.header),_.dictionary){var A;if(A=typeof _.dictionary=="string"?t.string2buf(_.dictionary):y.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(w=e.deflateSetDictionary(this.strm,A))!==m)throw new Error(i[w]);this._dict_set=!0}}function g(c,_){var w=new l(_);if(w.push(c,!0),w.err)throw w.msg||i[w.err];return w.result}l.prototype.push=function(c,_){var w,A,S=this.strm,B=this.options.chunkSize;if(this.ended)return!1;A=_===~~_?_:_===!0?4:0,typeof c=="string"?S.input=t.string2buf(c):y.call(c)==="[object ArrayBuffer]"?S.input=new Uint8Array(c):S.input=c,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new n.Buf8(B),S.next_out=0,S.avail_out=B),(w=e.deflate(S,A))!==1&&w!==m)return this.onEnd(w),!(this.ended=!0);S.avail_out!==0&&(S.avail_in!==0||A!==4&&A!==2)||(this.options.to==="string"?this.onData(t.buf2binstring(n.shrinkBuf(S.output,S.next_out))):this.onData(n.shrinkBuf(S.output,S.next_out)))}while((0<S.avail_in||S.avail_out===0)&&w!==1);return A===4?(w=e.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===m):A!==2||(this.onEnd(m),!(S.avail_out=0))},l.prototype.onData=function(c){this.chunks.push(c)},l.prototype.onEnd=function(c){c===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},a.Deflate=l,a.deflate=g,a.deflateRaw=function(c,_){return(_=_||{}).raw=!0,g(c,_)},a.gzip=function(c,_){return(_=_||{}).gzip=!0,g(c,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(u,p,a){var e=u("./zlib/inflate"),n=u("./utils/common"),t=u("./utils/strings"),i=u("./zlib/constants"),f=u("./zlib/messages"),y=u("./zlib/zstream"),m=u("./zlib/gzheader"),d=Object.prototype.toString;function o(l){if(!(this instanceof o))return new o(l);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},l||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||l&&l.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var c=e.inflateInit2(this.strm,g.windowBits);if(c!==i.Z_OK)throw new Error(f[c]);this.header=new m,e.inflateGetHeader(this.strm,this.header)}function h(l,g){var c=new o(g);if(c.push(l,!0),c.err)throw c.msg||f[c.err];return c.result}o.prototype.push=function(l,g){var c,_,w,A,S,B,x=this.strm,O=this.options.chunkSize,C=this.options.dictionary,D=!1;if(this.ended)return!1;_=g===~~g?g:g===!0?i.Z_FINISH:i.Z_NO_FLUSH,typeof l=="string"?x.input=t.binstring2buf(l):d.call(l)==="[object ArrayBuffer]"?x.input=new Uint8Array(l):x.input=l,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new n.Buf8(O),x.next_out=0,x.avail_out=O),(c=e.inflate(x,i.Z_NO_FLUSH))===i.Z_NEED_DICT&&C&&(B=typeof C=="string"?t.string2buf(C):d.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,c=e.inflateSetDictionary(this.strm,B)),c===i.Z_BUF_ERROR&&D===!0&&(c=i.Z_OK,D=!1),c!==i.Z_STREAM_END&&c!==i.Z_OK)return this.onEnd(c),!(this.ended=!0);x.next_out&&(x.avail_out!==0&&c!==i.Z_STREAM_END&&(x.avail_in!==0||_!==i.Z_FINISH&&_!==i.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=t.utf8border(x.output,x.next_out),A=x.next_out-w,S=t.buf2string(x.output,w),x.next_out=A,x.avail_out=O-A,A&&n.arraySet(x.output,x.output,w,A,0),this.onData(S)):this.onData(n.shrinkBuf(x.output,x.next_out)))),x.avail_in===0&&x.avail_out===0&&(D=!0)}while((0<x.avail_in||x.avail_out===0)&&c!==i.Z_STREAM_END);return c===i.Z_STREAM_END&&(_=i.Z_FINISH),_===i.Z_FINISH?(c=e.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===i.Z_OK):_!==i.Z_SYNC_FLUSH||(this.onEnd(i.Z_OK),!(x.avail_out=0))},o.prototype.onData=function(l){this.chunks.push(l)},o.prototype.onEnd=function(l){l===i.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg},a.Inflate=o,a.inflate=h,a.inflateRaw=function(l,g){return(g=g||{}).raw=!0,h(l,g)},a.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(u,p,a){var e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(i){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var y=f.shift();if(y){if(typeof y!="object")throw new TypeError(y+"must be non-object");for(var m in y)y.hasOwnProperty(m)&&(i[m]=y[m])}}return i},a.shrinkBuf=function(i,f){return i.length===f?i:i.subarray?i.subarray(0,f):(i.length=f,i)};var n={arraySet:function(i,f,y,m,d){if(f.subarray&&i.subarray)i.set(f.subarray(y,y+m),d);else for(var o=0;o<m;o++)i[d+o]=f[y+o]},flattenChunks:function(i){var f,y,m,d,o,h;for(f=m=0,y=i.length;f<y;f++)m+=i[f].length;for(h=new Uint8Array(m),f=d=0,y=i.length;f<y;f++)o=i[f],h.set(o,d),d+=o.length;return h}},t={arraySet:function(i,f,y,m,d){for(var o=0;o<m;o++)i[d+o]=f[y+o]},flattenChunks:function(i){return[].concat.apply([],i)}};a.setTyped=function(i){i?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,n)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,t))},a.setTyped(e)},{}],42:[function(u,p,a){var e=u("./common"),n=!0,t=!0;try{String.fromCharCode.apply(null,[0])}catch{n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{t=!1}for(var i=new e.Buf8(256),f=0;f<256;f++)i[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function y(m,d){if(d<65537&&(m.subarray&&t||!m.subarray&&n))return String.fromCharCode.apply(null,e.shrinkBuf(m,d));for(var o="",h=0;h<d;h++)o+=String.fromCharCode(m[h]);return o}i[254]=i[254]=1,a.string2buf=function(m){var d,o,h,l,g,c=m.length,_=0;for(l=0;l<c;l++)(64512&(o=m.charCodeAt(l)))==55296&&l+1<c&&(64512&(h=m.charCodeAt(l+1)))==56320&&(o=65536+(o-55296<<10)+(h-56320),l++),_+=o<128?1:o<2048?2:o<65536?3:4;for(d=new e.Buf8(_),l=g=0;g<_;l++)(64512&(o=m.charCodeAt(l)))==55296&&l+1<c&&(64512&(h=m.charCodeAt(l+1)))==56320&&(o=65536+(o-55296<<10)+(h-56320),l++),o<128?d[g++]=o:(o<2048?d[g++]=192|o>>>6:(o<65536?d[g++]=224|o>>>12:(d[g++]=240|o>>>18,d[g++]=128|o>>>12&63),d[g++]=128|o>>>6&63),d[g++]=128|63&o);return d},a.buf2binstring=function(m){return y(m,m.length)},a.binstring2buf=function(m){for(var d=new e.Buf8(m.length),o=0,h=d.length;o<h;o++)d[o]=m.charCodeAt(o);return d},a.buf2string=function(m,d){var o,h,l,g,c=d||m.length,_=new Array(2*c);for(o=h=0;o<c;)if((l=m[o++])<128)_[h++]=l;else if(4<(g=i[l]))_[h++]=65533,o+=g-1;else{for(l&=g===2?31:g===3?15:7;1<g&&o<c;)l=l<<6|63&m[o++],g--;1<g?_[h++]=65533:l<65536?_[h++]=l:(l-=65536,_[h++]=55296|l>>10&1023,_[h++]=56320|1023&l)}return y(_,h)},a.utf8border=function(m,d){var o;for((d=d||m.length)>m.length&&(d=m.length),o=d-1;0<=o&&(192&m[o])==128;)o--;return o<0||o===0?d:o+i[m[o]]>d?o:d}},{"./common":41}],43:[function(u,p,a){p.exports=function(e,n,t,i){for(var f=65535&e|0,y=e>>>16&65535|0,m=0;t!==0;){for(t-=m=2e3<t?2e3:t;y=y+(f=f+n[i++]|0)|0,--m;);f%=65521,y%=65521}return f|y<<16|0}},{}],44:[function(u,p,a){p.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(u,p,a){var e=(function(){for(var n,t=[],i=0;i<256;i++){n=i;for(var f=0;f<8;f++)n=1&n?3988292384^n>>>1:n>>>1;t[i]=n}return t})();p.exports=function(n,t,i,f){var y=e,m=f+i;n^=-1;for(var d=f;d<m;d++)n=n>>>8^y[255&(n^t[d])];return-1^n}},{}],46:[function(u,p,a){var e,n=u("../utils/common"),t=u("./trees"),i=u("./adler32"),f=u("./crc32"),y=u("./messages"),m=0,d=4,o=0,h=-2,l=-1,g=4,c=2,_=8,w=9,A=286,S=30,B=19,x=2*A+1,O=15,C=3,D=258,j=D+C+1,b=42,R=113,s=1,U=2,J=3,K=4;function nt(r,F){return r.msg=y[F],F}function $(r){return(r<<1)-(4<r?9:0)}function X(r){for(var F=r.length;0<=--F;)r[F]=0}function L(r){var F=r.state,N=F.pending;N>r.avail_out&&(N=r.avail_out),N!==0&&(n.arraySet(r.output,F.pending_buf,F.pending_out,N,r.next_out),r.next_out+=N,F.pending_out+=N,r.total_out+=N,r.avail_out-=N,F.pending-=N,F.pending===0&&(F.pending_out=0))}function z(r,F){t._tr_flush_block(r,0<=r.block_start?r.block_start:-1,r.strstart-r.block_start,F),r.block_start=r.strstart,L(r.strm)}function Q(r,F){r.pending_buf[r.pending++]=F}function V(r,F){r.pending_buf[r.pending++]=F>>>8&255,r.pending_buf[r.pending++]=255&F}function W(r,F){var N,E,v=r.max_chain_length,T=r.strstart,M=r.prev_length,q=r.nice_match,P=r.strstart>r.w_size-j?r.strstart-(r.w_size-j):0,H=r.window,G=r.w_mask,Z=r.prev,Y=r.strstart+D,st=H[T+M-1],it=H[T+M];r.prev_length>=r.good_match&&(v>>=2),q>r.lookahead&&(q=r.lookahead);do if(H[(N=F)+M]===it&&H[N+M-1]===st&&H[N]===H[T]&&H[++N]===H[T+1]){T+=2,N++;do;while(H[++T]===H[++N]&&H[++T]===H[++N]&&H[++T]===H[++N]&&H[++T]===H[++N]&&H[++T]===H[++N]&&H[++T]===H[++N]&&H[++T]===H[++N]&&H[++T]===H[++N]&&T<Y);if(E=D-(Y-T),T=Y-D,M<E){if(r.match_start=F,q<=(M=E))break;st=H[T+M-1],it=H[T+M]}}while((F=Z[F&G])>P&&--v!=0);return M<=r.lookahead?M:r.lookahead}function lt(r){var F,N,E,v,T,M,q,P,H,G,Z=r.w_size;do{if(v=r.window_size-r.lookahead-r.strstart,r.strstart>=Z+(Z-j)){for(n.arraySet(r.window,r.window,Z,Z,0),r.match_start-=Z,r.strstart-=Z,r.block_start-=Z,F=N=r.hash_size;E=r.head[--F],r.head[F]=Z<=E?E-Z:0,--N;);for(F=N=Z;E=r.prev[--F],r.prev[F]=Z<=E?E-Z:0,--N;);v+=Z}if(r.strm.avail_in===0)break;if(M=r.strm,q=r.window,P=r.strstart+r.lookahead,H=v,G=void 0,G=M.avail_in,H<G&&(G=H),N=G===0?0:(M.avail_in-=G,n.arraySet(q,M.input,M.next_in,G,P),M.state.wrap===1?M.adler=i(M.adler,q,G,P):M.state.wrap===2&&(M.adler=f(M.adler,q,G,P)),M.next_in+=G,M.total_in+=G,G),r.lookahead+=N,r.lookahead+r.insert>=C)for(T=r.strstart-r.insert,r.ins_h=r.window[T],r.ins_h=(r.ins_h<<r.hash_shift^r.window[T+1])&r.hash_mask;r.insert&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[T+C-1])&r.hash_mask,r.prev[T&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=T,T++,r.insert--,!(r.lookahead+r.insert<C)););}while(r.lookahead<j&&r.strm.avail_in!==0)}function at(r,F){for(var N,E;;){if(r.lookahead<j){if(lt(r),r.lookahead<j&&F===m)return s;if(r.lookahead===0)break}if(N=0,r.lookahead>=C&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+C-1])&r.hash_mask,N=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),N!==0&&r.strstart-N<=r.w_size-j&&(r.match_length=W(r,N)),r.match_length>=C)if(E=t._tr_tally(r,r.strstart-r.match_start,r.match_length-C),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=C){for(r.match_length--;r.strstart++,r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+C-1])&r.hash_mask,N=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart,--r.match_length!=0;);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+1])&r.hash_mask;else E=t._tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(E&&(z(r,!1),r.strm.avail_out===0))return s}return r.insert=r.strstart<C-1?r.strstart:C-1,F===d?(z(r,!0),r.strm.avail_out===0?J:K):r.last_lit&&(z(r,!1),r.strm.avail_out===0)?s:U}function et(r,F){for(var N,E,v;;){if(r.lookahead<j){if(lt(r),r.lookahead<j&&F===m)return s;if(r.lookahead===0)break}if(N=0,r.lookahead>=C&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+C-1])&r.hash_mask,N=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=C-1,N!==0&&r.prev_length<r.max_lazy_match&&r.strstart-N<=r.w_size-j&&(r.match_length=W(r,N),r.match_length<=5&&(r.strategy===1||r.match_length===C&&4096<r.strstart-r.match_start)&&(r.match_length=C-1)),r.prev_length>=C&&r.match_length<=r.prev_length){for(v=r.strstart+r.lookahead-C,E=t._tr_tally(r,r.strstart-1-r.prev_match,r.prev_length-C),r.lookahead-=r.prev_length-1,r.prev_length-=2;++r.strstart<=v&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+C-1])&r.hash_mask,N=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),--r.prev_length!=0;);if(r.match_available=0,r.match_length=C-1,r.strstart++,E&&(z(r,!1),r.strm.avail_out===0))return s}else if(r.match_available){if((E=t._tr_tally(r,0,r.window[r.strstart-1]))&&z(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return s}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(E=t._tr_tally(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<C-1?r.strstart:C-1,F===d?(z(r,!0),r.strm.avail_out===0?J:K):r.last_lit&&(z(r,!1),r.strm.avail_out===0)?s:U}function rt(r,F,N,E,v){this.good_length=r,this.max_lazy=F,this.nice_length=N,this.max_chain=E,this.func=v}function ut(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(2*x),this.dyn_dtree=new n.Buf16(2*(2*S+1)),this.bl_tree=new n.Buf16(2*(2*B+1)),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(O+1),this.heap=new n.Buf16(2*A+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(2*A+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ct(r){var F;return r&&r.state?(r.total_in=r.total_out=0,r.data_type=c,(F=r.state).pending=0,F.pending_out=0,F.wrap<0&&(F.wrap=-F.wrap),F.status=F.wrap?b:R,r.adler=F.wrap===2?0:1,F.last_flush=m,t._tr_init(F),o):nt(r,h)}function yt(r){var F=ct(r);return F===o&&(function(N){N.window_size=2*N.w_size,X(N.head),N.max_lazy_match=e[N.level].max_lazy,N.good_match=e[N.level].good_length,N.nice_match=e[N.level].nice_length,N.max_chain_length=e[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=C-1,N.match_available=0,N.ins_h=0})(r.state),F}function gt(r,F,N,E,v,T){if(!r)return h;var M=1;if(F===l&&(F=6),E<0?(M=0,E=-E):15<E&&(M=2,E-=16),v<1||w<v||N!==_||E<8||15<E||F<0||9<F||T<0||g<T)return nt(r,h);E===8&&(E=9);var q=new ut;return(r.state=q).strm=r,q.wrap=M,q.gzhead=null,q.w_bits=E,q.w_size=1<<q.w_bits,q.w_mask=q.w_size-1,q.hash_bits=v+7,q.hash_size=1<<q.hash_bits,q.hash_mask=q.hash_size-1,q.hash_shift=~~((q.hash_bits+C-1)/C),q.window=new n.Buf8(2*q.w_size),q.head=new n.Buf16(q.hash_size),q.prev=new n.Buf16(q.w_size),q.lit_bufsize=1<<v+6,q.pending_buf_size=4*q.lit_bufsize,q.pending_buf=new n.Buf8(q.pending_buf_size),q.d_buf=1*q.lit_bufsize,q.l_buf=3*q.lit_bufsize,q.level=F,q.strategy=T,q.method=N,yt(r)}e=[new rt(0,0,0,0,function(r,F){var N=65535;for(N>r.pending_buf_size-5&&(N=r.pending_buf_size-5);;){if(r.lookahead<=1){if(lt(r),r.lookahead===0&&F===m)return s;if(r.lookahead===0)break}r.strstart+=r.lookahead,r.lookahead=0;var E=r.block_start+N;if((r.strstart===0||r.strstart>=E)&&(r.lookahead=r.strstart-E,r.strstart=E,z(r,!1),r.strm.avail_out===0)||r.strstart-r.block_start>=r.w_size-j&&(z(r,!1),r.strm.avail_out===0))return s}return r.insert=0,F===d?(z(r,!0),r.strm.avail_out===0?J:K):(r.strstart>r.block_start&&(z(r,!1),r.strm.avail_out),s)}),new rt(4,4,8,4,at),new rt(4,5,16,8,at),new rt(4,6,32,32,at),new rt(4,4,16,16,et),new rt(8,16,32,32,et),new rt(8,16,128,128,et),new rt(8,32,128,256,et),new rt(32,128,258,1024,et),new rt(32,258,258,4096,et)],a.deflateInit=function(r,F){return gt(r,F,_,15,8,0)},a.deflateInit2=gt,a.deflateReset=yt,a.deflateResetKeep=ct,a.deflateSetHeader=function(r,F){return r&&r.state?r.state.wrap!==2?h:(r.state.gzhead=F,o):h},a.deflate=function(r,F){var N,E,v,T;if(!r||!r.state||5<F||F<0)return r?nt(r,h):h;if(E=r.state,!r.output||!r.input&&r.avail_in!==0||E.status===666&&F!==d)return nt(r,r.avail_out===0?-5:h);if(E.strm=r,N=E.last_flush,E.last_flush=F,E.status===b)if(E.wrap===2)r.adler=0,Q(E,31),Q(E,139),Q(E,8),E.gzhead?(Q(E,(E.gzhead.text?1:0)+(E.gzhead.hcrc?2:0)+(E.gzhead.extra?4:0)+(E.gzhead.name?8:0)+(E.gzhead.comment?16:0)),Q(E,255&E.gzhead.time),Q(E,E.gzhead.time>>8&255),Q(E,E.gzhead.time>>16&255),Q(E,E.gzhead.time>>24&255),Q(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),Q(E,255&E.gzhead.os),E.gzhead.extra&&E.gzhead.extra.length&&(Q(E,255&E.gzhead.extra.length),Q(E,E.gzhead.extra.length>>8&255)),E.gzhead.hcrc&&(r.adler=f(r.adler,E.pending_buf,E.pending,0)),E.gzindex=0,E.status=69):(Q(E,0),Q(E,0),Q(E,0),Q(E,0),Q(E,0),Q(E,E.level===9?2:2<=E.strategy||E.level<2?4:0),Q(E,3),E.status=R);else{var M=_+(E.w_bits-8<<4)<<8;M|=(2<=E.strategy||E.level<2?0:E.level<6?1:E.level===6?2:3)<<6,E.strstart!==0&&(M|=32),M+=31-M%31,E.status=R,V(E,M),E.strstart!==0&&(V(E,r.adler>>>16),V(E,65535&r.adler)),r.adler=1}if(E.status===69)if(E.gzhead.extra){for(v=E.pending;E.gzindex<(65535&E.gzhead.extra.length)&&(E.pending!==E.pending_buf_size||(E.gzhead.hcrc&&E.pending>v&&(r.adler=f(r.adler,E.pending_buf,E.pending-v,v)),L(r),v=E.pending,E.pending!==E.pending_buf_size));)Q(E,255&E.gzhead.extra[E.gzindex]),E.gzindex++;E.gzhead.hcrc&&E.pending>v&&(r.adler=f(r.adler,E.pending_buf,E.pending-v,v)),E.gzindex===E.gzhead.extra.length&&(E.gzindex=0,E.status=73)}else E.status=73;if(E.status===73)if(E.gzhead.name){v=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>v&&(r.adler=f(r.adler,E.pending_buf,E.pending-v,v)),L(r),v=E.pending,E.pending===E.pending_buf_size)){T=1;break}T=E.gzindex<E.gzhead.name.length?255&E.gzhead.name.charCodeAt(E.gzindex++):0,Q(E,T)}while(T!==0);E.gzhead.hcrc&&E.pending>v&&(r.adler=f(r.adler,E.pending_buf,E.pending-v,v)),T===0&&(E.gzindex=0,E.status=91)}else E.status=91;if(E.status===91)if(E.gzhead.comment){v=E.pending;do{if(E.pending===E.pending_buf_size&&(E.gzhead.hcrc&&E.pending>v&&(r.adler=f(r.adler,E.pending_buf,E.pending-v,v)),L(r),v=E.pending,E.pending===E.pending_buf_size)){T=1;break}T=E.gzindex<E.gzhead.comment.length?255&E.gzhead.comment.charCodeAt(E.gzindex++):0,Q(E,T)}while(T!==0);E.gzhead.hcrc&&E.pending>v&&(r.adler=f(r.adler,E.pending_buf,E.pending-v,v)),T===0&&(E.status=103)}else E.status=103;if(E.status===103&&(E.gzhead.hcrc?(E.pending+2>E.pending_buf_size&&L(r),E.pending+2<=E.pending_buf_size&&(Q(E,255&r.adler),Q(E,r.adler>>8&255),r.adler=0,E.status=R)):E.status=R),E.pending!==0){if(L(r),r.avail_out===0)return E.last_flush=-1,o}else if(r.avail_in===0&&$(F)<=$(N)&&F!==d)return nt(r,-5);if(E.status===666&&r.avail_in!==0)return nt(r,-5);if(r.avail_in!==0||E.lookahead!==0||F!==m&&E.status!==666){var q=E.strategy===2?(function(P,H){for(var G;;){if(P.lookahead===0&&(lt(P),P.lookahead===0)){if(H===m)return s;break}if(P.match_length=0,G=t._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++,G&&(z(P,!1),P.strm.avail_out===0))return s}return P.insert=0,H===d?(z(P,!0),P.strm.avail_out===0?J:K):P.last_lit&&(z(P,!1),P.strm.avail_out===0)?s:U})(E,F):E.strategy===3?(function(P,H){for(var G,Z,Y,st,it=P.window;;){if(P.lookahead<=D){if(lt(P),P.lookahead<=D&&H===m)return s;if(P.lookahead===0)break}if(P.match_length=0,P.lookahead>=C&&0<P.strstart&&(Z=it[Y=P.strstart-1])===it[++Y]&&Z===it[++Y]&&Z===it[++Y]){st=P.strstart+D;do;while(Z===it[++Y]&&Z===it[++Y]&&Z===it[++Y]&&Z===it[++Y]&&Z===it[++Y]&&Z===it[++Y]&&Z===it[++Y]&&Z===it[++Y]&&Y<st);P.match_length=D-(st-Y),P.match_length>P.lookahead&&(P.match_length=P.lookahead)}if(P.match_length>=C?(G=t._tr_tally(P,1,P.match_length-C),P.lookahead-=P.match_length,P.strstart+=P.match_length,P.match_length=0):(G=t._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++),G&&(z(P,!1),P.strm.avail_out===0))return s}return P.insert=0,H===d?(z(P,!0),P.strm.avail_out===0?J:K):P.last_lit&&(z(P,!1),P.strm.avail_out===0)?s:U})(E,F):e[E.level].func(E,F);if(q!==J&&q!==K||(E.status=666),q===s||q===J)return r.avail_out===0&&(E.last_flush=-1),o;if(q===U&&(F===1?t._tr_align(E):F!==5&&(t._tr_stored_block(E,0,0,!1),F===3&&(X(E.head),E.lookahead===0&&(E.strstart=0,E.block_start=0,E.insert=0))),L(r),r.avail_out===0))return E.last_flush=-1,o}return F!==d?o:E.wrap<=0?1:(E.wrap===2?(Q(E,255&r.adler),Q(E,r.adler>>8&255),Q(E,r.adler>>16&255),Q(E,r.adler>>24&255),Q(E,255&r.total_in),Q(E,r.total_in>>8&255),Q(E,r.total_in>>16&255),Q(E,r.total_in>>24&255)):(V(E,r.adler>>>16),V(E,65535&r.adler)),L(r),0<E.wrap&&(E.wrap=-E.wrap),E.pending!==0?o:1)},a.deflateEnd=function(r){var F;return r&&r.state?(F=r.state.status)!==b&&F!==69&&F!==73&&F!==91&&F!==103&&F!==R&&F!==666?nt(r,h):(r.state=null,F===R?nt(r,-3):o):h},a.deflateSetDictionary=function(r,F){var N,E,v,T,M,q,P,H,G=F.length;if(!r||!r.state||(T=(N=r.state).wrap)===2||T===1&&N.status!==b||N.lookahead)return h;for(T===1&&(r.adler=i(r.adler,F,G,0)),N.wrap=0,G>=N.w_size&&(T===0&&(X(N.head),N.strstart=0,N.block_start=0,N.insert=0),H=new n.Buf8(N.w_size),n.arraySet(H,F,G-N.w_size,N.w_size,0),F=H,G=N.w_size),M=r.avail_in,q=r.next_in,P=r.input,r.avail_in=G,r.next_in=0,r.input=F,lt(N);N.lookahead>=C;){for(E=N.strstart,v=N.lookahead-(C-1);N.ins_h=(N.ins_h<<N.hash_shift^N.window[E+C-1])&N.hash_mask,N.prev[E&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=E,E++,--v;);N.strstart=E,N.lookahead=C-1,lt(N)}return N.strstart+=N.lookahead,N.block_start=N.strstart,N.insert=N.lookahead,N.lookahead=0,N.match_length=N.prev_length=C-1,N.match_available=0,r.next_in=q,r.input=P,r.avail_in=M,N.wrap=T,o},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(u,p,a){p.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(u,p,a){p.exports=function(e,n){var t,i,f,y,m,d,o,h,l,g,c,_,w,A,S,B,x,O,C,D,j,b,R,s,U;t=e.state,i=e.next_in,s=e.input,f=i+(e.avail_in-5),y=e.next_out,U=e.output,m=y-(n-e.avail_out),d=y+(e.avail_out-257),o=t.dmax,h=t.wsize,l=t.whave,g=t.wnext,c=t.window,_=t.hold,w=t.bits,A=t.lencode,S=t.distcode,B=(1<<t.lenbits)-1,x=(1<<t.distbits)-1;t:do{w<15&&(_+=s[i++]<<w,w+=8,_+=s[i++]<<w,w+=8),O=A[_&B];e:for(;;){if(_>>>=C=O>>>24,w-=C,(C=O>>>16&255)===0)U[y++]=65535&O;else{if(!(16&C)){if((64&C)==0){O=A[(65535&O)+(_&(1<<C)-1)];continue e}if(32&C){t.mode=12;break t}e.msg="invalid literal/length code",t.mode=30;break t}D=65535&O,(C&=15)&&(w<C&&(_+=s[i++]<<w,w+=8),D+=_&(1<<C)-1,_>>>=C,w-=C),w<15&&(_+=s[i++]<<w,w+=8,_+=s[i++]<<w,w+=8),O=S[_&x];n:for(;;){if(_>>>=C=O>>>24,w-=C,!(16&(C=O>>>16&255))){if((64&C)==0){O=S[(65535&O)+(_&(1<<C)-1)];continue n}e.msg="invalid distance code",t.mode=30;break t}if(j=65535&O,w<(C&=15)&&(_+=s[i++]<<w,(w+=8)<C&&(_+=s[i++]<<w,w+=8)),o<(j+=_&(1<<C)-1)){e.msg="invalid distance too far back",t.mode=30;break t}if(_>>>=C,w-=C,(C=y-m)<j){if(l<(C=j-C)&&t.sane){e.msg="invalid distance too far back",t.mode=30;break t}if(R=c,(b=0)===g){if(b+=h-C,C<D){for(D-=C;U[y++]=c[b++],--C;);b=y-j,R=U}}else if(g<C){if(b+=h+g-C,(C-=g)<D){for(D-=C;U[y++]=c[b++],--C;);if(b=0,g<D){for(D-=C=g;U[y++]=c[b++],--C;);b=y-j,R=U}}}else if(b+=g-C,C<D){for(D-=C;U[y++]=c[b++],--C;);b=y-j,R=U}for(;2<D;)U[y++]=R[b++],U[y++]=R[b++],U[y++]=R[b++],D-=3;D&&(U[y++]=R[b++],1<D&&(U[y++]=R[b++]))}else{for(b=y-j;U[y++]=U[b++],U[y++]=U[b++],U[y++]=U[b++],2<(D-=3););D&&(U[y++]=U[b++],1<D&&(U[y++]=U[b++]))}break}}break}}while(i<f&&y<d);i-=D=w>>3,_&=(1<<(w-=D<<3))-1,e.next_in=i,e.next_out=y,e.avail_in=i<f?f-i+5:5-(i-f),e.avail_out=y<d?d-y+257:257-(y-d),t.hold=_,t.bits=w}},{}],49:[function(u,p,a){var e=u("../utils/common"),n=u("./adler32"),t=u("./crc32"),i=u("./inffast"),f=u("./inftrees"),y=1,m=2,d=0,o=-2,h=1,l=852,g=592;function c(b){return(b>>>24&255)+(b>>>8&65280)+((65280&b)<<8)+((255&b)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(b){var R;return b&&b.state?(R=b.state,b.total_in=b.total_out=R.total=0,b.msg="",R.wrap&&(b.adler=1&R.wrap),R.mode=h,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new e.Buf32(l),R.distcode=R.distdyn=new e.Buf32(g),R.sane=1,R.back=-1,d):o}function A(b){var R;return b&&b.state?((R=b.state).wsize=0,R.whave=0,R.wnext=0,w(b)):o}function S(b,R){var s,U;return b&&b.state?(U=b.state,R<0?(s=0,R=-R):(s=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?o:(U.window!==null&&U.wbits!==R&&(U.window=null),U.wrap=s,U.wbits=R,A(b))):o}function B(b,R){var s,U;return b?(U=new _,(b.state=U).window=null,(s=S(b,R))!==d&&(b.state=null),s):o}var x,O,C=!0;function D(b){if(C){var R;for(x=new e.Buf32(512),O=new e.Buf32(32),R=0;R<144;)b.lens[R++]=8;for(;R<256;)b.lens[R++]=9;for(;R<280;)b.lens[R++]=7;for(;R<288;)b.lens[R++]=8;for(f(y,b.lens,0,288,x,0,b.work,{bits:9}),R=0;R<32;)b.lens[R++]=5;f(m,b.lens,0,32,O,0,b.work,{bits:5}),C=!1}b.lencode=x,b.lenbits=9,b.distcode=O,b.distbits=5}function j(b,R,s,U){var J,K=b.state;return K.window===null&&(K.wsize=1<<K.wbits,K.wnext=0,K.whave=0,K.window=new e.Buf8(K.wsize)),U>=K.wsize?(e.arraySet(K.window,R,s-K.wsize,K.wsize,0),K.wnext=0,K.whave=K.wsize):(U<(J=K.wsize-K.wnext)&&(J=U),e.arraySet(K.window,R,s-U,J,K.wnext),(U-=J)?(e.arraySet(K.window,R,s-U,U,0),K.wnext=U,K.whave=K.wsize):(K.wnext+=J,K.wnext===K.wsize&&(K.wnext=0),K.whave<K.wsize&&(K.whave+=J))),0}a.inflateReset=A,a.inflateReset2=S,a.inflateResetKeep=w,a.inflateInit=function(b){return B(b,15)},a.inflateInit2=B,a.inflate=function(b,R){var s,U,J,K,nt,$,X,L,z,Q,V,W,lt,at,et,rt,ut,ct,yt,gt,r,F,N,E,v=0,T=new e.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!b||!b.state||!b.output||!b.input&&b.avail_in!==0)return o;(s=b.state).mode===12&&(s.mode=13),nt=b.next_out,J=b.output,X=b.avail_out,K=b.next_in,U=b.input,$=b.avail_in,L=s.hold,z=s.bits,Q=$,V=X,F=d;t:for(;;)switch(s.mode){case h:if(s.wrap===0){s.mode=13;break}for(;z<16;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}if(2&s.wrap&&L===35615){T[s.check=0]=255&L,T[1]=L>>>8&255,s.check=t(s.check,T,2,0),z=L=0,s.mode=2;break}if(s.flags=0,s.head&&(s.head.done=!1),!(1&s.wrap)||(((255&L)<<8)+(L>>8))%31){b.msg="incorrect header check",s.mode=30;break}if((15&L)!=8){b.msg="unknown compression method",s.mode=30;break}if(z-=4,r=8+(15&(L>>>=4)),s.wbits===0)s.wbits=r;else if(r>s.wbits){b.msg="invalid window size",s.mode=30;break}s.dmax=1<<r,b.adler=s.check=1,s.mode=512&L?10:12,z=L=0;break;case 2:for(;z<16;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}if(s.flags=L,(255&s.flags)!=8){b.msg="unknown compression method",s.mode=30;break}if(57344&s.flags){b.msg="unknown header flags set",s.mode=30;break}s.head&&(s.head.text=L>>8&1),512&s.flags&&(T[0]=255&L,T[1]=L>>>8&255,s.check=t(s.check,T,2,0)),z=L=0,s.mode=3;case 3:for(;z<32;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}s.head&&(s.head.time=L),512&s.flags&&(T[0]=255&L,T[1]=L>>>8&255,T[2]=L>>>16&255,T[3]=L>>>24&255,s.check=t(s.check,T,4,0)),z=L=0,s.mode=4;case 4:for(;z<16;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}s.head&&(s.head.xflags=255&L,s.head.os=L>>8),512&s.flags&&(T[0]=255&L,T[1]=L>>>8&255,s.check=t(s.check,T,2,0)),z=L=0,s.mode=5;case 5:if(1024&s.flags){for(;z<16;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}s.length=L,s.head&&(s.head.extra_len=L),512&s.flags&&(T[0]=255&L,T[1]=L>>>8&255,s.check=t(s.check,T,2,0)),z=L=0}else s.head&&(s.head.extra=null);s.mode=6;case 6:if(1024&s.flags&&($<(W=s.length)&&(W=$),W&&(s.head&&(r=s.head.extra_len-s.length,s.head.extra||(s.head.extra=new Array(s.head.extra_len)),e.arraySet(s.head.extra,U,K,W,r)),512&s.flags&&(s.check=t(s.check,U,W,K)),$-=W,K+=W,s.length-=W),s.length))break t;s.length=0,s.mode=7;case 7:if(2048&s.flags){if($===0)break t;for(W=0;r=U[K+W++],s.head&&r&&s.length<65536&&(s.head.name+=String.fromCharCode(r)),r&&W<$;);if(512&s.flags&&(s.check=t(s.check,U,W,K)),$-=W,K+=W,r)break t}else s.head&&(s.head.name=null);s.length=0,s.mode=8;case 8:if(4096&s.flags){if($===0)break t;for(W=0;r=U[K+W++],s.head&&r&&s.length<65536&&(s.head.comment+=String.fromCharCode(r)),r&&W<$;);if(512&s.flags&&(s.check=t(s.check,U,W,K)),$-=W,K+=W,r)break t}else s.head&&(s.head.comment=null);s.mode=9;case 9:if(512&s.flags){for(;z<16;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}if(L!==(65535&s.check)){b.msg="header crc mismatch",s.mode=30;break}z=L=0}s.head&&(s.head.hcrc=s.flags>>9&1,s.head.done=!0),b.adler=s.check=0,s.mode=12;break;case 10:for(;z<32;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}b.adler=s.check=c(L),z=L=0,s.mode=11;case 11:if(s.havedict===0)return b.next_out=nt,b.avail_out=X,b.next_in=K,b.avail_in=$,s.hold=L,s.bits=z,2;b.adler=s.check=1,s.mode=12;case 12:if(R===5||R===6)break t;case 13:if(s.last){L>>>=7&z,z-=7&z,s.mode=27;break}for(;z<3;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}switch(s.last=1&L,z-=1,3&(L>>>=1)){case 0:s.mode=14;break;case 1:if(D(s),s.mode=20,R!==6)break;L>>>=2,z-=2;break t;case 2:s.mode=17;break;case 3:b.msg="invalid block type",s.mode=30}L>>>=2,z-=2;break;case 14:for(L>>>=7&z,z-=7&z;z<32;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}if((65535&L)!=(L>>>16^65535)){b.msg="invalid stored block lengths",s.mode=30;break}if(s.length=65535&L,z=L=0,s.mode=15,R===6)break t;case 15:s.mode=16;case 16:if(W=s.length){if($<W&&(W=$),X<W&&(W=X),W===0)break t;e.arraySet(J,U,K,W,nt),$-=W,K+=W,X-=W,nt+=W,s.length-=W;break}s.mode=12;break;case 17:for(;z<14;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}if(s.nlen=257+(31&L),L>>>=5,z-=5,s.ndist=1+(31&L),L>>>=5,z-=5,s.ncode=4+(15&L),L>>>=4,z-=4,286<s.nlen||30<s.ndist){b.msg="too many length or distance symbols",s.mode=30;break}s.have=0,s.mode=18;case 18:for(;s.have<s.ncode;){for(;z<3;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}s.lens[M[s.have++]]=7&L,L>>>=3,z-=3}for(;s.have<19;)s.lens[M[s.have++]]=0;if(s.lencode=s.lendyn,s.lenbits=7,N={bits:s.lenbits},F=f(0,s.lens,0,19,s.lencode,0,s.work,N),s.lenbits=N.bits,F){b.msg="invalid code lengths set",s.mode=30;break}s.have=0,s.mode=19;case 19:for(;s.have<s.nlen+s.ndist;){for(;rt=(v=s.lencode[L&(1<<s.lenbits)-1])>>>16&255,ut=65535&v,!((et=v>>>24)<=z);){if($===0)break t;$--,L+=U[K++]<<z,z+=8}if(ut<16)L>>>=et,z-=et,s.lens[s.have++]=ut;else{if(ut===16){for(E=et+2;z<E;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}if(L>>>=et,z-=et,s.have===0){b.msg="invalid bit length repeat",s.mode=30;break}r=s.lens[s.have-1],W=3+(3&L),L>>>=2,z-=2}else if(ut===17){for(E=et+3;z<E;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}z-=et,r=0,W=3+(7&(L>>>=et)),L>>>=3,z-=3}else{for(E=et+7;z<E;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}z-=et,r=0,W=11+(127&(L>>>=et)),L>>>=7,z-=7}if(s.have+W>s.nlen+s.ndist){b.msg="invalid bit length repeat",s.mode=30;break}for(;W--;)s.lens[s.have++]=r}}if(s.mode===30)break;if(s.lens[256]===0){b.msg="invalid code -- missing end-of-block",s.mode=30;break}if(s.lenbits=9,N={bits:s.lenbits},F=f(y,s.lens,0,s.nlen,s.lencode,0,s.work,N),s.lenbits=N.bits,F){b.msg="invalid literal/lengths set",s.mode=30;break}if(s.distbits=6,s.distcode=s.distdyn,N={bits:s.distbits},F=f(m,s.lens,s.nlen,s.ndist,s.distcode,0,s.work,N),s.distbits=N.bits,F){b.msg="invalid distances set",s.mode=30;break}if(s.mode=20,R===6)break t;case 20:s.mode=21;case 21:if(6<=$&&258<=X){b.next_out=nt,b.avail_out=X,b.next_in=K,b.avail_in=$,s.hold=L,s.bits=z,i(b,V),nt=b.next_out,J=b.output,X=b.avail_out,K=b.next_in,U=b.input,$=b.avail_in,L=s.hold,z=s.bits,s.mode===12&&(s.back=-1);break}for(s.back=0;rt=(v=s.lencode[L&(1<<s.lenbits)-1])>>>16&255,ut=65535&v,!((et=v>>>24)<=z);){if($===0)break t;$--,L+=U[K++]<<z,z+=8}if(rt&&(240&rt)==0){for(ct=et,yt=rt,gt=ut;rt=(v=s.lencode[gt+((L&(1<<ct+yt)-1)>>ct)])>>>16&255,ut=65535&v,!(ct+(et=v>>>24)<=z);){if($===0)break t;$--,L+=U[K++]<<z,z+=8}L>>>=ct,z-=ct,s.back+=ct}if(L>>>=et,z-=et,s.back+=et,s.length=ut,rt===0){s.mode=26;break}if(32&rt){s.back=-1,s.mode=12;break}if(64&rt){b.msg="invalid literal/length code",s.mode=30;break}s.extra=15&rt,s.mode=22;case 22:if(s.extra){for(E=s.extra;z<E;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}s.length+=L&(1<<s.extra)-1,L>>>=s.extra,z-=s.extra,s.back+=s.extra}s.was=s.length,s.mode=23;case 23:for(;rt=(v=s.distcode[L&(1<<s.distbits)-1])>>>16&255,ut=65535&v,!((et=v>>>24)<=z);){if($===0)break t;$--,L+=U[K++]<<z,z+=8}if((240&rt)==0){for(ct=et,yt=rt,gt=ut;rt=(v=s.distcode[gt+((L&(1<<ct+yt)-1)>>ct)])>>>16&255,ut=65535&v,!(ct+(et=v>>>24)<=z);){if($===0)break t;$--,L+=U[K++]<<z,z+=8}L>>>=ct,z-=ct,s.back+=ct}if(L>>>=et,z-=et,s.back+=et,64&rt){b.msg="invalid distance code",s.mode=30;break}s.offset=ut,s.extra=15&rt,s.mode=24;case 24:if(s.extra){for(E=s.extra;z<E;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}s.offset+=L&(1<<s.extra)-1,L>>>=s.extra,z-=s.extra,s.back+=s.extra}if(s.offset>s.dmax){b.msg="invalid distance too far back",s.mode=30;break}s.mode=25;case 25:if(X===0)break t;if(W=V-X,s.offset>W){if((W=s.offset-W)>s.whave&&s.sane){b.msg="invalid distance too far back",s.mode=30;break}lt=W>s.wnext?(W-=s.wnext,s.wsize-W):s.wnext-W,W>s.length&&(W=s.length),at=s.window}else at=J,lt=nt-s.offset,W=s.length;for(X<W&&(W=X),X-=W,s.length-=W;J[nt++]=at[lt++],--W;);s.length===0&&(s.mode=21);break;case 26:if(X===0)break t;J[nt++]=s.length,X--,s.mode=21;break;case 27:if(s.wrap){for(;z<32;){if($===0)break t;$--,L|=U[K++]<<z,z+=8}if(V-=X,b.total_out+=V,s.total+=V,V&&(b.adler=s.check=s.flags?t(s.check,J,V,nt-V):n(s.check,J,V,nt-V)),V=X,(s.flags?L:c(L))!==s.check){b.msg="incorrect data check",s.mode=30;break}z=L=0}s.mode=28;case 28:if(s.wrap&&s.flags){for(;z<32;){if($===0)break t;$--,L+=U[K++]<<z,z+=8}if(L!==(4294967295&s.total)){b.msg="incorrect length check",s.mode=30;break}z=L=0}s.mode=29;case 29:F=1;break t;case 30:F=-3;break t;case 31:return-4;case 32:default:return o}return b.next_out=nt,b.avail_out=X,b.next_in=K,b.avail_in=$,s.hold=L,s.bits=z,(s.wsize||V!==b.avail_out&&s.mode<30&&(s.mode<27||R!==4))&&j(b,b.output,b.next_out,V-b.avail_out)?(s.mode=31,-4):(Q-=b.avail_in,V-=b.avail_out,b.total_in+=Q,b.total_out+=V,s.total+=V,s.wrap&&V&&(b.adler=s.check=s.flags?t(s.check,J,V,b.next_out-V):n(s.check,J,V,b.next_out-V)),b.data_type=s.bits+(s.last?64:0)+(s.mode===12?128:0)+(s.mode===20||s.mode===15?256:0),(Q==0&&V===0||R===4)&&F===d&&(F=-5),F)},a.inflateEnd=function(b){if(!b||!b.state)return o;var R=b.state;return R.window&&(R.window=null),b.state=null,d},a.inflateGetHeader=function(b,R){var s;return b&&b.state?(2&(s=b.state).wrap)==0?o:((s.head=R).done=!1,d):o},a.inflateSetDictionary=function(b,R){var s,U=R.length;return b&&b.state?(s=b.state).wrap!==0&&s.mode!==11?o:s.mode===11&&n(1,R,U,0)!==s.check?-3:j(b,R,U,U)?(s.mode=31,-4):(s.havedict=1,d):o},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(u,p,a){var e=u("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],t=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];p.exports=function(y,m,d,o,h,l,g,c){var _,w,A,S,B,x,O,C,D,j=c.bits,b=0,R=0,s=0,U=0,J=0,K=0,nt=0,$=0,X=0,L=0,z=null,Q=0,V=new e.Buf16(16),W=new e.Buf16(16),lt=null,at=0;for(b=0;b<=15;b++)V[b]=0;for(R=0;R<o;R++)V[m[d+R]]++;for(J=j,U=15;1<=U&&V[U]===0;U--);if(U<J&&(J=U),U===0)return h[l++]=20971520,h[l++]=20971520,c.bits=1,0;for(s=1;s<U&&V[s]===0;s++);for(J<s&&(J=s),b=$=1;b<=15;b++)if($<<=1,($-=V[b])<0)return-1;if(0<$&&(y===0||U!==1))return-1;for(W[1]=0,b=1;b<15;b++)W[b+1]=W[b]+V[b];for(R=0;R<o;R++)m[d+R]!==0&&(g[W[m[d+R]]++]=R);if(x=y===0?(z=lt=g,19):y===1?(z=n,Q-=257,lt=t,at-=257,256):(z=i,lt=f,-1),b=s,B=l,nt=R=L=0,A=-1,S=(X=1<<(K=J))-1,y===1&&852<X||y===2&&592<X)return 1;for(;;){for(O=b-nt,D=g[R]<x?(C=0,g[R]):g[R]>x?(C=lt[at+g[R]],z[Q+g[R]]):(C=96,0),_=1<<b-nt,s=w=1<<K;h[B+(L>>nt)+(w-=_)]=O<<24|C<<16|D|0,w!==0;);for(_=1<<b-1;L&_;)_>>=1;if(_!==0?(L&=_-1,L+=_):L=0,R++,--V[b]==0){if(b===U)break;b=m[d+g[R]]}if(J<b&&(L&S)!==A){for(nt===0&&(nt=J),B+=s,$=1<<(K=b-nt);K+nt<U&&!(($-=V[K+nt])<=0);)K++,$<<=1;if(X+=1<<K,y===1&&852<X||y===2&&592<X)return 1;h[A=L&S]=J<<24|K<<16|B-l|0}}return L!==0&&(h[B+L]=b-nt<<24|64<<16|0),c.bits=J,0}},{"../utils/common":41}],51:[function(u,p,a){p.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(u,p,a){var e=u("../utils/common"),n=0,t=1;function i(v){for(var T=v.length;0<=--T;)v[T]=0}var f=0,y=29,m=256,d=m+1+y,o=30,h=19,l=2*d+1,g=15,c=16,_=7,w=256,A=16,S=17,B=18,x=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(d+2));i(j);var b=new Array(2*o);i(b);var R=new Array(512);i(R);var s=new Array(256);i(s);var U=new Array(y);i(U);var J,K,nt,$=new Array(o);function X(v,T,M,q,P){this.static_tree=v,this.extra_bits=T,this.extra_base=M,this.elems=q,this.max_length=P,this.has_stree=v&&v.length}function L(v,T){this.dyn_tree=v,this.max_code=0,this.stat_desc=T}function z(v){return v<256?R[v]:R[256+(v>>>7)]}function Q(v,T){v.pending_buf[v.pending++]=255&T,v.pending_buf[v.pending++]=T>>>8&255}function V(v,T,M){v.bi_valid>c-M?(v.bi_buf|=T<<v.bi_valid&65535,Q(v,v.bi_buf),v.bi_buf=T>>c-v.bi_valid,v.bi_valid+=M-c):(v.bi_buf|=T<<v.bi_valid&65535,v.bi_valid+=M)}function W(v,T,M){V(v,M[2*T],M[2*T+1])}function lt(v,T){for(var M=0;M|=1&v,v>>>=1,M<<=1,0<--T;);return M>>>1}function at(v,T,M){var q,P,H=new Array(g+1),G=0;for(q=1;q<=g;q++)H[q]=G=G+M[q-1]<<1;for(P=0;P<=T;P++){var Z=v[2*P+1];Z!==0&&(v[2*P]=lt(H[Z]++,Z))}}function et(v){var T;for(T=0;T<d;T++)v.dyn_ltree[2*T]=0;for(T=0;T<o;T++)v.dyn_dtree[2*T]=0;for(T=0;T<h;T++)v.bl_tree[2*T]=0;v.dyn_ltree[2*w]=1,v.opt_len=v.static_len=0,v.last_lit=v.matches=0}function rt(v){8<v.bi_valid?Q(v,v.bi_buf):0<v.bi_valid&&(v.pending_buf[v.pending++]=v.bi_buf),v.bi_buf=0,v.bi_valid=0}function ut(v,T,M,q){var P=2*T,H=2*M;return v[P]<v[H]||v[P]===v[H]&&q[T]<=q[M]}function ct(v,T,M){for(var q=v.heap[M],P=M<<1;P<=v.heap_len&&(P<v.heap_len&&ut(T,v.heap[P+1],v.heap[P],v.depth)&&P++,!ut(T,q,v.heap[P],v.depth));)v.heap[M]=v.heap[P],M=P,P<<=1;v.heap[M]=q}function yt(v,T,M){var q,P,H,G,Z=0;if(v.last_lit!==0)for(;q=v.pending_buf[v.d_buf+2*Z]<<8|v.pending_buf[v.d_buf+2*Z+1],P=v.pending_buf[v.l_buf+Z],Z++,q===0?W(v,P,T):(W(v,(H=s[P])+m+1,T),(G=x[H])!==0&&V(v,P-=U[H],G),W(v,H=z(--q),M),(G=O[H])!==0&&V(v,q-=$[H],G)),Z<v.last_lit;);W(v,w,T)}function gt(v,T){var M,q,P,H=T.dyn_tree,G=T.stat_desc.static_tree,Z=T.stat_desc.has_stree,Y=T.stat_desc.elems,st=-1;for(v.heap_len=0,v.heap_max=l,M=0;M<Y;M++)H[2*M]!==0?(v.heap[++v.heap_len]=st=M,v.depth[M]=0):H[2*M+1]=0;for(;v.heap_len<2;)H[2*(P=v.heap[++v.heap_len]=st<2?++st:0)]=1,v.depth[P]=0,v.opt_len--,Z&&(v.static_len-=G[2*P+1]);for(T.max_code=st,M=v.heap_len>>1;1<=M;M--)ct(v,H,M);for(P=Y;M=v.heap[1],v.heap[1]=v.heap[v.heap_len--],ct(v,H,1),q=v.heap[1],v.heap[--v.heap_max]=M,v.heap[--v.heap_max]=q,H[2*P]=H[2*M]+H[2*q],v.depth[P]=(v.depth[M]>=v.depth[q]?v.depth[M]:v.depth[q])+1,H[2*M+1]=H[2*q+1]=P,v.heap[1]=P++,ct(v,H,1),2<=v.heap_len;);v.heap[--v.heap_max]=v.heap[1],(function(it,mt){var St,_t,Ct,dt,Pt,Ut,wt=mt.dyn_tree,pe=mt.max_code,tn=mt.stat_desc.static_tree,en=mt.stat_desc.has_stree,nn=mt.stat_desc.extra_bits,me=mt.stat_desc.extra_base,Tt=mt.stat_desc.max_length,zt=0;for(dt=0;dt<=g;dt++)it.bl_count[dt]=0;for(wt[2*it.heap[it.heap_max]+1]=0,St=it.heap_max+1;St<l;St++)Tt<(dt=wt[2*wt[2*(_t=it.heap[St])+1]+1]+1)&&(dt=Tt,zt++),wt[2*_t+1]=dt,pe<_t||(it.bl_count[dt]++,Pt=0,me<=_t&&(Pt=nn[_t-me]),Ut=wt[2*_t],it.opt_len+=Ut*(dt+Pt),en&&(it.static_len+=Ut*(tn[2*_t+1]+Pt)));if(zt!==0){do{for(dt=Tt-1;it.bl_count[dt]===0;)dt--;it.bl_count[dt]--,it.bl_count[dt+1]+=2,it.bl_count[Tt]--,zt-=2}while(0<zt);for(dt=Tt;dt!==0;dt--)for(_t=it.bl_count[dt];_t!==0;)pe<(Ct=it.heap[--St])||(wt[2*Ct+1]!==dt&&(it.opt_len+=(dt-wt[2*Ct+1])*wt[2*Ct],wt[2*Ct+1]=dt),_t--)}})(v,T),at(H,st,v.bl_count)}function r(v,T,M){var q,P,H=-1,G=T[1],Z=0,Y=7,st=4;for(G===0&&(Y=138,st=3),T[2*(M+1)+1]=65535,q=0;q<=M;q++)P=G,G=T[2*(q+1)+1],++Z<Y&&P===G||(Z<st?v.bl_tree[2*P]+=Z:P!==0?(P!==H&&v.bl_tree[2*P]++,v.bl_tree[2*A]++):Z<=10?v.bl_tree[2*S]++:v.bl_tree[2*B]++,H=P,st=(Z=0)===G?(Y=138,3):P===G?(Y=6,3):(Y=7,4))}function F(v,T,M){var q,P,H=-1,G=T[1],Z=0,Y=7,st=4;for(G===0&&(Y=138,st=3),q=0;q<=M;q++)if(P=G,G=T[2*(q+1)+1],!(++Z<Y&&P===G)){if(Z<st)for(;W(v,P,v.bl_tree),--Z!=0;);else P!==0?(P!==H&&(W(v,P,v.bl_tree),Z--),W(v,A,v.bl_tree),V(v,Z-3,2)):Z<=10?(W(v,S,v.bl_tree),V(v,Z-3,3)):(W(v,B,v.bl_tree),V(v,Z-11,7));H=P,st=(Z=0)===G?(Y=138,3):P===G?(Y=6,3):(Y=7,4)}}i($);var N=!1;function E(v,T,M,q){V(v,(f<<1)+(q?1:0),3),(function(P,H,G,Z){rt(P),Q(P,G),Q(P,~G),e.arraySet(P.pending_buf,P.window,H,G,P.pending),P.pending+=G})(v,T,M)}a._tr_init=function(v){N||((function(){var T,M,q,P,H,G=new Array(g+1);for(P=q=0;P<y-1;P++)for(U[P]=q,T=0;T<1<<x[P];T++)s[q++]=P;for(s[q-1]=P,P=H=0;P<16;P++)for($[P]=H,T=0;T<1<<O[P];T++)R[H++]=P;for(H>>=7;P<o;P++)for($[P]=H<<7,T=0;T<1<<O[P]-7;T++)R[256+H++]=P;for(M=0;M<=g;M++)G[M]=0;for(T=0;T<=143;)j[2*T+1]=8,T++,G[8]++;for(;T<=255;)j[2*T+1]=9,T++,G[9]++;for(;T<=279;)j[2*T+1]=7,T++,G[7]++;for(;T<=287;)j[2*T+1]=8,T++,G[8]++;for(at(j,d+1,G),T=0;T<o;T++)b[2*T+1]=5,b[2*T]=lt(T,5);J=new X(j,x,m+1,d,g),K=new X(b,O,0,o,g),nt=new X(new Array(0),C,0,h,_)})(),N=!0),v.l_desc=new L(v.dyn_ltree,J),v.d_desc=new L(v.dyn_dtree,K),v.bl_desc=new L(v.bl_tree,nt),v.bi_buf=0,v.bi_valid=0,et(v)},a._tr_stored_block=E,a._tr_flush_block=function(v,T,M,q){var P,H,G=0;0<v.level?(v.strm.data_type===2&&(v.strm.data_type=(function(Z){var Y,st=4093624447;for(Y=0;Y<=31;Y++,st>>>=1)if(1&st&&Z.dyn_ltree[2*Y]!==0)return n;if(Z.dyn_ltree[18]!==0||Z.dyn_ltree[20]!==0||Z.dyn_ltree[26]!==0)return t;for(Y=32;Y<m;Y++)if(Z.dyn_ltree[2*Y]!==0)return t;return n})(v)),gt(v,v.l_desc),gt(v,v.d_desc),G=(function(Z){var Y;for(r(Z,Z.dyn_ltree,Z.l_desc.max_code),r(Z,Z.dyn_dtree,Z.d_desc.max_code),gt(Z,Z.bl_desc),Y=h-1;3<=Y&&Z.bl_tree[2*D[Y]+1]===0;Y--);return Z.opt_len+=3*(Y+1)+5+5+4,Y})(v),P=v.opt_len+3+7>>>3,(H=v.static_len+3+7>>>3)<=P&&(P=H)):P=H=M+5,M+4<=P&&T!==-1?E(v,T,M,q):v.strategy===4||H===P?(V(v,2+(q?1:0),3),yt(v,j,b)):(V(v,4+(q?1:0),3),(function(Z,Y,st,it){var mt;for(V(Z,Y-257,5),V(Z,st-1,5),V(Z,it-4,4),mt=0;mt<it;mt++)V(Z,Z.bl_tree[2*D[mt]+1],3);F(Z,Z.dyn_ltree,Y-1),F(Z,Z.dyn_dtree,st-1)})(v,v.l_desc.max_code+1,v.d_desc.max_code+1,G+1),yt(v,v.dyn_ltree,v.dyn_dtree)),et(v),q&&rt(v)},a._tr_tally=function(v,T,M){return v.pending_buf[v.d_buf+2*v.last_lit]=T>>>8&255,v.pending_buf[v.d_buf+2*v.last_lit+1]=255&T,v.pending_buf[v.l_buf+v.last_lit]=255&M,v.last_lit++,T===0?v.dyn_ltree[2*M]++:(v.matches++,T--,v.dyn_ltree[2*(s[M]+m+1)]++,v.dyn_dtree[2*z(T)]++),v.last_lit===v.lit_bufsize-1},a._tr_align=function(v){V(v,2,3),W(v,w,j),(function(T){T.bi_valid===16?(Q(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):8<=T.bi_valid&&(T.pending_buf[T.pending++]=255&T.bi_buf,T.bi_buf>>=8,T.bi_valid-=8)})(v)}},{"../utils/common":41}],53:[function(u,p,a){p.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(u,p,a){(function(e){(function(n,t){if(!n.setImmediate){var i,f,y,m,d=1,o={},h=!1,l=n.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(n);g=g&&g.setTimeout?g:n,i={}.toString.call(n.process)==="[object process]"?function(A){process.nextTick(function(){_(A)})}:(function(){if(n.postMessage&&!n.importScripts){var A=!0,S=n.onmessage;return n.onmessage=function(){A=!1},n.postMessage("","*"),n.onmessage=S,A}})()?(m="setImmediate$"+Math.random()+"$",n.addEventListener?n.addEventListener("message",w,!1):n.attachEvent("onmessage",w),function(A){n.postMessage(m+A,"*")}):n.MessageChannel?((y=new MessageChannel).port1.onmessage=function(A){_(A.data)},function(A){y.port2.postMessage(A)}):l&&"onreadystatechange"in l.createElement("script")?(f=l.documentElement,function(A){var S=l.createElement("script");S.onreadystatechange=function(){_(A),S.onreadystatechange=null,f.removeChild(S),S=null},f.appendChild(S)}):function(A){setTimeout(_,0,A)},g.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var S=new Array(arguments.length-1),B=0;B<S.length;B++)S[B]=arguments[B+1];var x={callback:A,args:S};return o[d]=x,i(d),d++},g.clearImmediate=c}function c(A){delete o[A]}function _(A){if(h)setTimeout(_,0,A);else{var S=o[A];if(S){h=!0;try{(function(B){var x=B.callback,O=B.args;switch(O.length){case 0:x();break;case 1:x(O[0]);break;case 2:x(O[0],O[1]);break;case 3:x(O[0],O[1],O[2]);break;default:x.apply(t,O)}})(S)}finally{c(A),h=!1}}}}function w(A){A.source===n&&typeof A.data=="string"&&A.data.indexOf(m)===0&&_(+A.data.slice(m.length))}})(typeof self>"u"?e===void 0?this:e:self)}).call(this,typeof Ot<"u"?Ot:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(ue)),ue.exports}var Tn=Cn();const Bn=Ze(Tn),tt={STORAGE_KEY:"tak-profiles",TABS:{ATAK:"atak",ITAK:"itak",IMPORT:"import",PACKAGES:"packages",PROFILES:"profiles",HELP:"help"},PROTOCOLS:{HTTPS:"https",HTTP:"http",SSL:"ssl",TCP:"tcp"},PREFS_JSON:"docs/prefs/atak-preferences.json",NOTIFICATION_DURATION:3e3,STATUS_DURATION:5e3,DEBOUNCE_DELAY:300,QR_SIZE:256,QR_MARGIN:2,PATTERNS:{HOSTNAME:/^[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,60}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,60}[a-zA-Z0-9])?)*$/,PORT:/^([1-9][0-9]{0,3}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/,URL:/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)$/}},ht={PROFILE_NAME_REQUIRED:"Profile name is required",PROFILE_EXISTS:"A profile with this name already exists. Do you want to overwrite it?",INVALID_HOSTNAME:"Please enter a valid hostname or IP address",INVALID_PORT:"Please enter a valid port number (1-65535)",INVALID_URL:"Please enter a valid URL",QR_GENERATION_ERROR:"Error generating QR code",DOWNLOAD_ERROR:"Error downloading QR code",CLIPBOARD_ERROR:"Error copying to clipboard",LOAD_PROFILES_ERROR:"Error loading profiles"},bt=(function(){let k=tt.TABS.ATAK,I=k;function u(){document.querySelectorAll(".tab-btn").forEach(t=>{t.addEventListener("click",()=>{const i=t.dataset.tab;p(i)})}),Rn.init(),Xe.init()}function p(n){const t=document.querySelectorAll(".tab-btn"),i=document.querySelectorAll(".tab-pane");t.forEach(m=>{m.classList.remove("active"),m.setAttribute("aria-selected","false")});const f=document.querySelector(`[data-tab="${n}"]`);f&&(f.classList.add("active"),f.setAttribute("aria-selected","true")),i.forEach(m=>{m.classList.remove("active"),m.setAttribute("aria-hidden","true")});const y=document.getElementById(`${n}-tab`);y&&(y.classList.add("active"),y.setAttribute("aria-hidden","false")),k===tt.TABS.ATAK&&n===tt.TABS.ITAK?a():k===tt.TABS.ITAK&&n===tt.TABS.ATAK&&e(),k=n,[tt.TABS.ATAK,tt.TABS.ITAK,tt.TABS.IMPORT].includes(n)&&(I=n)}function a(){const n=document.getElementById("atak-host");if(!n?.value.trim())return;const t=document.getElementById("itak-url");t?.value.trim()||(t.value=`https://${n.value.trim()}`,pt.updateiTAKQR(),ot.showDataStatus("itak"),ot.showNotification("Server URL copied from ATAK tab","info"))}function e(){const n=document.getElementById("itak-url");if(!n?.value.trim())return;const t=Dt(n.value);if(t){const i=document.getElementById("atak-host");i?.value.trim()||(i.value=t,pt.updateATAKQR(),ot.showDataStatus("atak"),ot.showNotification("Server hostname copied from iTAK tab","info"))}}return{init:u,switchTab:p,getCurrentTab:()=>k,getLastConfigTab:()=>I}})(),pt=(function(){async function k(t,i){const f=document.getElementById(i);if(!f)return null;if(!t)return f.innerHTML='<div class="qr-placeholder">Enter configuration details above</div>',f.setAttribute("aria-label","QR code will appear here when form is complete"),null;try{const y=await fe.toCanvas(t,{width:tt.QR_SIZE,margin:tt.QR_MARGIN,color:{dark:"#000000",light:"#FFFFFF"}}),m=f.querySelector(".qr-placeholder");m&&m.remove();const d=f.querySelector("canvas");return f.setAttribute("aria-label","QR code generated successfully"),y&&typeof y=="object"&&y.nodeType===1&&(y.style.opacity="0",f.appendChild(y),y.offsetHeight,y.style.opacity="1",d&&(d.style.opacity="0",d.addEventListener("transitionend",()=>d.remove(),{once:!0}))),y}catch(y){return console.error(ht.QR_GENERATION_ERROR,y),ot.showNotification(ht.QR_GENERATION_ERROR,"error"),null}}async function I(){const t=document.getElementById("atak-host")?.value||"",i=document.getElementById("atak-username")?.value||"",f=document.getElementById("atak-token")?.value||"";if(t.trim()&&i.trim()&&f.trim()){if(!ce(t.trim())){ot.showNotification(ht.INVALID_HOSTNAME,"error"),k(null,"atak-qr"),ot.disableButtons("atak");return}const y=`tak://com.atakmap.app/enroll?host=${encodeURIComponent(t.trim())}&username=${encodeURIComponent(i.trim())}&token=${encodeURIComponent(f.trim())}`;await k(y,"atak-qr"),ot.enableButtons("atak");const m=document.getElementById("atak-qr");m&&(m.dataset.uri=y)}else await k(null,"atak-qr"),ot.disableButtons("atak")}const u=le(I,tt.DEBOUNCE_DELAY);async function p(){const t=document.getElementById("itak-description")?.value||"",i=document.getElementById("itak-url")?.value||"",f=document.getElementById("itak-port")?.value||"",y=document.getElementById("itak-protocol")?.value||"",m=Dt(i),d=y===tt.PROTOCOLS.HTTPS?tt.PROTOCOLS.SSL:tt.PROTOCOLS.TCP;if([t,m,f].every(l=>l&&l.trim()!=="")){if(!ce(m)){ot.showNotification(ht.INVALID_HOSTNAME,"error"),k(null,"itak-qr"),ot.disableButtons("itak");return}if(!Je(f)){ot.showNotification(ht.INVALID_PORT,"error"),k(null,"itak-qr"),ot.disableButtons("itak");return}const l=`${t.trim()},${m},${f.trim()},${d}`;await k(l,"itak-qr"),ot.enableButtons("itak");const g=document.getElementById("itak-qr");g&&(g.dataset.uri=l)}else await k(null,"itak-qr"),ot.disableButtons("itak")}const a=le(p,tt.DEBOUNCE_DELAY);async function e(){const t=document.getElementById("import-url")?.value||"";if(t.trim()){if(!Sn(t.trim())){ot.showNotification(ht.INVALID_URL,"error"),k(null,"import-qr"),ot.disableButtons("import");return}const i=`tak://com.atakmap.app/import?url=${encodeURIComponent(t.trim())}`;await k(i,"import-qr"),ot.enableButtons("import");const f=document.getElementById("import-qr");f&&(f.dataset.uri=i)}else await k(null,"import-qr"),ot.disableButtons("import")}const n=le(e,tt.DEBOUNCE_DELAY);return{updateATAKQR:u,updateiTAKQR:a,updateImportQR:n,updateATAKQRCore:I,updateiTAKQRCore:p,updateImportQRCore:e}})(),Rn=(function(){let k=[];function I(){const e=document.getElementById("package-form");if(!e)return;const n=document.getElementById("package-deployment"),t=document.getElementById("client-pass-group");n?.addEventListener("change",()=>{n.value==="auto-enroll"?t.style.display="none":t.style.display=""});const i=document.getElementById("package-dropzone"),f=document.getElementById("pkg-extra"),y=document.getElementById("package-files-list");function m(){if(y){if(k.length===0){y.textContent="No files selected";return}y.textContent=`${k.length} file(s) selected`}}i?.addEventListener("click",()=>f?.click()),i?.addEventListener("dragover",d=>{d.preventDefault(),i.classList.add("dragover")}),i?.addEventListener("dragleave",()=>i.classList.remove("dragover")),i?.addEventListener("drop",d=>{d.preventDefault(),i.classList.remove("dragover"),d.dataTransfer&&(k.push(...Array.from(d.dataTransfer.files)),m())}),f?.addEventListener("change",d=>{const{target:o}=d;o?.files&&(k.push(...Array.from(o.files)),m())}),document.getElementById("package-reset")?.addEventListener("click",()=>{k=[],f&&(f.value=""),m(),e.reset()}),document.getElementById("package-build")?.addEventListener("click",u)}async function u(){try{const e=document.getElementById("package-client").value,n=document.getElementById("package-deployment").value,t=document.getElementById("package-name").value.trim()||"TAK_Server.zip",i=document.getElementById("package-host").value.trim(),f=document.getElementById("package-port").value.trim(),y=document.getElementById("package-protocol").value,m=document.getElementById("package-ca-pass").value,d=document.getElementById("package-client-pass").value,o=document.getElementById("package-callsign").value.trim(),h=document.getElementById("package-team").value.trim(),l=document.getElementById("package-role").value.trim(),g=document.getElementById("pkg-ca").files?.[0]||null,c=document.getElementById("pkg-client").files?.[0]||null;if(!ce(i)){ot.showNotification(ht.INVALID_HOSTNAME,"error");return}if(!Je(f)){ot.showNotification(ht.INVALID_PORT,"error");return}const w=`${i}:${f}:${y==="https"?"ssl":"tcp"}`,A=p({deployment:n,connectString:w,caPass:m,clientPass:d,callsign:o,team:h,role:l,client:e}),S=a({name:t,includeClient:n==="soft-cert",includeCA:!0,client:e}),B=new Bn;e==="itak"?(B.file("config.pref",A),g&&B.file("caCert.p12",g),n==="soft-cert"&&c&&B.file("clientCert.p12",c),B.folder("MANIFEST")?.file("MANIFEST.xml",S)):(B.folder("certs")?.file("config.pref",A),g&&B.folder("certs")?.file("caCert.p12",g),n==="soft-cert"&&c&&B.folder("certs")?.file("clientCert.p12",c),B.folder("MANIFEST")?.file("MANIFEST.xml",S));for(const s of k)B.file(s.name,s);const x=await B.generateAsync({type:"blob"}),O=`${window.location.protocol}//${window.location.host}`,C=window.crypto.randomUUID&&window.crypto.randomUUID()||`${Date.now()}`,D=(t||"TAK_Server.zip").replace(/[^a-zA-Z0-9._-]/g,"_"),j=`/packages/${C}-${D}`,b=`${O}${j}`;let R=!1;try{R=(await fetch(b,{method:"PUT",headers:{"Content-Type":"application/zip"},body:x})).ok}catch{R=!1}if(R){const s=`tak://com.atakmap.app/import?url=${encodeURIComponent(b)}`;await pt.updateImportQRCore();const U=document.getElementById("import-qr");U&&await(async()=>{const J=await fe.toCanvas(s,{width:tt.QR_SIZE,margin:tt.QR_MARGIN}),K=U.querySelector("canvas");K&&K.remove(),U.appendChild(J)})(),ot.showNotification("Package uploaded! Import QR updated to hosted URL","success")}else{const s=document.createElement("a");s.href=URL.createObjectURL(x),s.download=t||"TAK_Server.zip",s.click(),URL.revokeObjectURL(s.href),ot.showNotification("Package built (downloaded locally). Hosting unavailable.","warning")}}catch(e){console.error(e),ot.showNotification("Error building data package","error")}}function p({deployment:e,connectString:n,caPass:t,clientPass:i,callsign:f,team:y,role:m,client:d}){const o=e==="soft-cert",h="cert",l=o?`
    <entry key="caPassword" class="class java.lang.String">${ft(t)}</entry>
    <entry key="clientPassword" class="class java.lang.String">${ft(i)}</entry>
    <entry key="certificateLocation" class="class java.lang.String">${h}/clientCert.p12</entry>`:`
    <entry key="caPassword0" class="class java.lang.String">${ft(t)}</entry>
    <entry key="enrollForCertificateWithTrust0" class="class java.lang.Boolean">true</entry>
    <entry key="useAuth0" class="class java.lang.Boolean">true</entry>
    <entry key="cacheCreds0" class="class java.lang.String">Cache credentials</entry>`,g=`
    ${f?`<entry key="locationCallsign" class="class java.lang.String">${ft(f)}</entry>`:""}
    ${y?`<entry key="locationTeam" class="class java.lang.String">${ft(y)}</entry>`:""}
    ${m?`<entry key="atakRoleType" class="class java.lang.String">${ft(m)}</entry>`:""}`;return`<?xml version='1.0' encoding='ASCII' standalone='yes'?>
<preferences>
  <preference version="1" name="cot_streams">
    <entry key="count" class="class java.lang.Integer">1</entry>
    <entry key="description0" class="class java.lang.String">TAK Server</entry>
    <entry key="enabled0" class="class java.lang.Boolean">true</entry>
    <entry key="connectString0" class="class java.lang.String">${ft(n)}</entry>
    ${o?"":`<entry key="caLocation0" class="class java.lang.String">${h}/caCert.p12</entry>`}
  </preference>
  <preference version="1" name="com.atakmap.app_preferences">
    <entry key="displayServerConnectionWidget" class="class java.lang.Boolean">true</entry>
    <entry key="caLocation" class="class java.lang.String">${h}/caCert.p12</entry>
    ${l}
    ${g}
  </preference>
</preferences>`}function a({name:e,includeClient:n,includeCA:t,client:i}){const f=window.crypto.randomUUID?window.crypto.randomUUID():"00000000-0000-4000-8000-000000000000",y=i==="itak",m=y?"caCert.p12":"certs/caCert.p12",d=y?"clientCert.p12":"certs/clientCert.p12",o=y?"config.pref":"certs/config.pref";return`<MissionPackageManifest version="2">
  <Configuration>
    <Parameter name="uid" value="${f}"/>
    <Parameter name="name" value="${ft(e)}"/>
    <Parameter name="onReceiveDelete" value="true"/>
  </Configuration>
  <Contents>
    <Content ignore="false" zipEntry="${o}"/>
    ${`<Content ignore="false" zipEntry="${m}"/>`}
    ${n?`<Content ignore="false" zipEntry="${d}"/>`:""}
  </Contents>
</MissionPackageManifest>`}return{init:I}})(),Xe=(function(){let k=null,I=[];function u(){const m=document.getElementById("pref-rows"),d=document.getElementById("pref-add"),o=document.getElementById("pref-version"),h=document.getElementById("pref-search"),l=document.getElementById("pref-add-known"),g=document.getElementById("pref-datalist"),c=document.getElementById("pref-suggestions"),_=document.getElementById("pref-browse");!m||!d||(d.addEventListener("click",()=>p(m)),l?.addEventListener("click",()=>{const w=h?.value?.trim();if(!w)return;const A=I.find(S=>S.label===w||S.key===w||`${S.label} (${S.key})`===w);A&&(p(m,A.key),h.value="")}),o?.addEventListener("change",()=>{const w=o.value;t(w,g),c&&(c.style.display="none")}),p(m),o&&t(o.value,g),h?.addEventListener("input",()=>{if(!c)return;const w=h.value.trim().toLowerCase();if(!w){c.style.display="none",c.innerHTML="";return}const A=I.filter(S=>S.label.toLowerCase().includes(w)||S.key.toLowerCase().includes(w)).slice(0,50);if(A.length===0){c.style.display="none",c.innerHTML="";return}c.innerHTML=A.map(S=>`
        <div class="pref-suggestion" data-key="${S.key}" style="padding:.5rem .75rem;cursor:pointer;display:flex;flex-direction:column;gap:.125rem;">
          <span style="font-weight:600;">${S.label}</span>
          <span style="font-size:.85em;color:var(--color-muted,#64748b);">${S.key}</span>
        </div>
      `).join(""),c.style.display="block"}),c?.addEventListener("click",w=>{const A=w.target.closest(".pref-suggestion");if(!A)return;const S=A.getAttribute("data-key")||"";S&&(h.value=S,c.style.display="none")}),_?.addEventListener("click",()=>{if(!c)return;const w=I.slice(0,500);c.innerHTML=w.map(A=>`
        <div class="pref-suggestion" data-key="${A.key}" style="padding:.5rem .75rem;cursor:pointer;display:flex;flex-direction:column;gap:.125rem;">
          <span style="font-weight:600;">${A.label}</span>
          <span style="font-size:.85em;color:var(--color-muted,#64748b);">${A.key}</span>
        </div>
      `).join(""),c.style.display="block"}),document.addEventListener("click",w=>{if(!c)return;c.contains(w.target)||h?.contains(w.target)||(c.style.display="none")}))}function p(m,d=""){const o=m.children.length+1,h=document.createElement("div");h.className="form-group",h.innerHTML=`
      <div style="display:grid;grid-template-columns:1fr 1fr 1fr auto;gap:var(--spacing-md);align-items:end;">
        <div>
          <label>Key ${o}</label>
          <input type="text" data-pref="key" placeholder="displayRed" value="${d}" />
          <div class="help-text" data-pref="key-label"></div>
        </div>
        <div>
          <label>Type ${o}</label>
          <select data-pref="type">
            <option value="string">string</option>
            <option value="boolean">boolean</option>
            <option value="long">long</option>
            <option value="int">int</option>
          </select>
        </div>
        <div>
          <label>Value ${o}</label>
          <input type="text" data-pref="value" placeholder="true" />
        </div>
        <button class="btn btn-secondary" type="button">Remove</button>
      </div>`,h.querySelector("button").addEventListener("click",()=>h.remove()),m.appendChild(h),h.querySelectorAll("input,select").forEach(c=>c.addEventListener("input",y)),h.querySelector('[data-pref="key"]')?.addEventListener("input",()=>e(h)),e(h),y()}function a(m){if(!m)return"";const d=I.find(o=>o.key===m);return d?d.label:""}function e(m){const d=m.querySelector('[data-pref="key"]'),o=m.querySelector('[data-pref="key-label"]');if(!d||!o)return;const h=a(d.value.trim());o.textContent=h?`Label: ${h}`:""}async function n(){return k||(k=await(await fetch(tt.PREFS_JSON)).json(),k)}async function t(m,d){try{I=((await n())?.preferencesByVersion||{})[m]||[],i(d,I)}catch{I=[],i(d,I)}}function i(m,d){m&&(m.innerHTML="",d.forEach(o=>{const h=document.createElement("option");h.value=`${o.label} (${o.key})`,m.appendChild(h);const l=document.createElement("option");l.value=o.key,m.appendChild(l)}))}function f(){const m=document.getElementById("pref-rows");if(!m)return"";const d=[];return m.querySelectorAll('[data-pref="key"]').forEach((o,h)=>{const l=m.querySelectorAll('[data-pref="type"]')[h],g=m.querySelectorAll('[data-pref="value"]')[h],c=o.value.trim(),_=l.value.trim(),w=g.value.trim();if(c&&_&&w){const A=h+1;d.push(`key${A}=${encodeURIComponent(c)}`),d.push(`type${A}=${encodeURIComponent(_)}`),d.push(`value${A}=${encodeURIComponent(w)}`)}}),d.length===0?"":`tak://com.atakmap.app/preference?${d.join("&")}`}async function y(){const m=f(),d=document.getElementById("preferences-qr"),o=document.getElementById("preferences-download"),h=document.getElementById("preferences-copy");if(d){if(!m){d.innerHTML='<div class="qr-placeholder">Add at least one preference</div>',o&&(o.disabled=!0),h&&(h.disabled=!0);return}try{const l=await fe.toCanvas(m,{width:tt.QR_SIZE,margin:tt.QR_MARGIN}),g=d.querySelector("canvas");g&&g.remove(),d.appendChild(l),o&&(o.disabled=!1),h&&(h.disabled=!1)}catch{}}}return{init:u,buildPreferenceURI:f}})(),xt=(function(){let k=[];function I(){u(),document.getElementById("save-profile")?.addEventListener("click",f),document.getElementById("load-profile")?.addEventListener("click",y)}function u(){try{k=JSON.parse(localStorage.getItem(tt.STORAGE_KEY)||"[]"),i()}catch(d){console.error(ht.LOAD_PROFILES_ERROR,d),k=[]}}function p(){try{localStorage.setItem(tt.STORAGE_KEY,JSON.stringify(k))}catch(d){console.error("Error saving profiles:",d),ot.showNotification("Error saving profiles","error")}}function a(){const d=bt.getCurrentTab(),o=[tt.TABS.ATAK,tt.TABS.ITAK,tt.TABS.IMPORT].includes(d)?d:bt.getLastConfigTab(),h={host:document.getElementById("atak-host")?.value||"",username:document.getElementById("atak-username")?.value||"",token:document.getElementById("atak-token")?.value||""},l={description:document.getElementById("itak-description")?.value||"",url:document.getElementById("itak-url")?.value||"",port:document.getElementById("itak-port")?.value||"",protocol:document.getElementById("itak-protocol")?.value||""},g={url:document.getElementById("import-url")?.value||""},c=[];return Object.values(h).some(_=>_)&&c.push(tt.TABS.ATAK),Object.values(l).some(_=>_)&&c.push(tt.TABS.ITAK),g.url&&c.push(tt.TABS.IMPORT),{type:o,timestamp:Date.now(),savedTabs:c,atak:h,itak:l,import:g}}function e(){const d=document.getElementById("profile-name"),o=document.getElementById("profile-description"),h=d?.value.trim()||"",l=o?.value.trim()||"",g=ft(h),c=ft(l);if(!g){ot.showNotification(ht.PROFILE_NAME_REQUIRED,"error");return}const _=a();_.name=g,_.description=c;const w=k.findIndex(A=>A.name===g);if(w>=0){if(!confirm(ht.PROFILE_EXISTS))return;k[w]=_}else k.push(_);p(),i(),Rt.closeModal(),ot.showNotification("Profile saved successfully!","success")}function n(d){if(!d)return;const o=d.atak||{host:d.host,username:d.username,token:d.token},h=d.itak||{description:d.description,url:d.url,port:d.port,protocol:d.protocol},l=d.import||{url:d.url},g=[];if(o&&(o.host||o.username||o.token)){const _=document.getElementById("atak-host"),w=document.getElementById("atak-username"),A=document.getElementById("atak-token");_&&(_.value=o.host||""),w&&(w.value=o.username||""),A&&(A.value=o.token||""),pt.updateATAKQR(),g.push(tt.TABS.ATAK)}if(h&&(h.description||h.url||h.port||h.protocol)){const _=document.getElementById("itak-description"),w=document.getElementById("itak-url"),A=document.getElementById("itak-port"),S=document.getElementById("itak-protocol");_&&(_.value=h.description||""),w&&(w.value=h.url||""),A&&(A.value=h.port||"8089"),S&&(S.value=h.protocol||tt.PROTOCOLS.HTTPS),pt.updateiTAKQR(),g.push(tt.TABS.ITAK)}if(l&&l.url){const _=document.getElementById("import-url");_&&(_.value=l.url||""),pt.updateImportQR(),g.push(tt.TABS.IMPORT)}const c=d.savedTabs?.[0]||d.type||g[0];c&&bt.switchTab(c),Rt.closeModal(),ot.showNotification("Profile loaded successfully!","success")}function t(d){confirm(`Are you sure you want to delete the profile "${d}"?`)&&(k=k.filter(o=>o.name!==d),p(),i(),ot.showNotification("Profile deleted successfully!","success"))}function i(){const d=document.getElementById("profiles-container");if(d){if(k.length===0){d.innerHTML='<p style="grid-column: 1 / -1; color: var(--text-secondary);">No saved profiles yet. Create your first profile to get started.</p>';return}d.innerHTML=k.map(o=>{const h=JSON.stringify(o).replace(/"/g,"&quot;"),l=o.savedTabs?.length?o.savedTabs.join(", ").toUpperCase():(o.type||"").toUpperCase();return`
        <div class="profile-card">
          <h4>${ft(o.name)}</h4>
          <p>${ft(o.description||"No description")}</p>
          <p><strong>Tabs:</strong> ${l}</p>
          <p><strong>Created:</strong> ${new Date(o.timestamp).toLocaleDateString()}</p>
          <div class="profile-actions">
            <button class="btn btn-primary" onclick="ProfileManager.loadProfile(${h})">Load</button>
            <button class="btn btn-secondary" onclick="ProfileManager.deleteProfile('${ft(o.name)}')">Delete</button>
          </div>
        </div>
      `}).join("")}}function f(){const d=document.getElementById("modal-title"),o=document.getElementById("profile-name"),h=document.getElementById("profile-description");d&&(d.textContent="Save Profile");const l=a();o&&(o.value=l.name||""),h&&(h.value=l.description||""),Rt.openModal()}function y(){const d=document.getElementById("modal-title");d&&(d.textContent="Load Profile"),m(),Rt.openModal()}function m(){const d=document.querySelector(".modal-body");if(!d||k.length===0){d&&(d.innerHTML="<p>No profiles available to load.</p>");return}d.innerHTML=`
      <div class="profile-selection">
        <p>Select a profile to load:</p>
        <div class="profile-list" role="list">
          ${k.map(o=>{const h=JSON.stringify(o).replace(/"/g,"&quot;");return`
              <div class="profile-item" role="listitem" tabindex="0"
                   onclick="ProfileManager.loadProfile(${h})"
                   onkeypress="if(event.key === 'Enter') ProfileManager.loadProfile(${h})">
                <h4>${ft(o.name)}</h4>
                <p>${ft(o.description||"No description")}</p>
                <span class="profile-type">${o.type.toUpperCase()}</span>
              </div>
            `}).join("")}
        </div>
      </div>
    `}return{init:I,saveProfile:e,loadProfile:n,deleteProfile:t}})(),ot=(function(){function k(n,t="info"){document.querySelectorAll(".notification").forEach(y=>y.remove());const f=document.createElement("div");f.className=`notification notification-${t}`,f.textContent=n,f.setAttribute("role","alert"),f.setAttribute("aria-live","polite"),document.body.appendChild(f),f.offsetHeight,f.classList.add("notification-show"),setTimeout(()=>{f.classList.remove("notification-show"),f.classList.add("notification-hide"),setTimeout(()=>f.remove(),300)},tt.NOTIFICATION_DURATION)}function I(n){const t=document.getElementById(`${n}-data-status`);t&&(t.style.display="flex",setTimeout(()=>{t.style.display="none"},tt.STATUS_DURATION))}function u(n){const t=document.getElementById(`${n}-download`),i=document.getElementById(`${n}-copy`);t&&(t.disabled=!1),i&&(i.disabled=!1)}function p(n){const t=document.getElementById(`${n}-download`),i=document.getElementById(`${n}-copy`);t&&(t.disabled=!0),i&&(i.disabled=!0)}async function a(n){const i=document.getElementById(`${n}-qr`)?.querySelector("canvas");if(i)try{const f=document.createElement("a");f.download=`tak-${n}-config.png`,f.href=i.toDataURL(),f.click()}catch(f){console.error(ht.DOWNLOAD_ERROR,f),k(ht.DOWNLOAD_ERROR,"error")}}async function e(n){let t="";switch(n){case tt.TABS.ATAK:{const i=document.getElementById("atak-host")?.value||"",f=document.getElementById("atak-username")?.value||"",y=document.getElementById("atak-token")?.value||"";t=document.getElementById("atak-ask-creds")?.checked?`tak://com.atakmap.app/enroll?host=${encodeURIComponent(i.trim())}`:`tak://com.atakmap.app/enroll?host=${encodeURIComponent(i.trim())}&username=${encodeURIComponent(f.trim())}&token=${encodeURIComponent(y.trim())}`;break}case tt.TABS.ITAK:{const i=document.getElementById("itak-description")?.value||"",f=document.getElementById("itak-url")?.value||"",y=document.getElementById("itak-port")?.value||"",m=document.getElementById("itak-protocol")?.value||"",d=Dt(f),o=m===tt.PROTOCOLS.HTTPS?tt.PROTOCOLS.SSL:tt.PROTOCOLS.TCP;t=`${i.trim()},${d},${y.trim()},${o}`;break}case tt.TABS.IMPORT:{const i=document.getElementById("import-url")?.value||"";t=`tak://com.atakmap.app/import?url=${encodeURIComponent(i.trim())}`;break}case tt.TABS.PREFERENCES:{t=Xe.buildPreferenceURI();break}}try{await navigator.clipboard.writeText(t),k("URI copied to clipboard!","success")}catch(i){console.error(ht.CLIPBOARD_ERROR,i),k(ht.CLIPBOARD_ERROR,"error")}}return{showNotification:k,showDataStatus:I,enableButtons:u,disableButtons:p,downloadQR:a,copyURI:e}})(),he=(function(){function k(){I(),u(),p(),a()}function I(){const t=document.getElementById("atak-form");if(!t)return;t.querySelectorAll("input").forEach(f=>{f.setAttribute("aria-required","true"),f.addEventListener("input",()=>pt.updateATAKQR())})}function u(){const t=document.getElementById("itak-form");if(!t)return;t.querySelectorAll("input, select").forEach(f=>{f.setAttribute("aria-required","true"),f.addEventListener("input",()=>pt.updateiTAKQR())})}function p(){const t=document.getElementById("import-form");if(!t)return;t.querySelectorAll("input").forEach(f=>{f.setAttribute("aria-required","true"),f.addEventListener("input",()=>pt.updateImportQR())})}function a(){document.addEventListener("click",t=>{const{target:i}=t;if(i.id?.endsWith("-download")){const f=i.id.replace("-download","");ot.downloadQR(f)}if(i.id?.endsWith("-copy")){const f=i.id.replace("-copy","");ot.copyURI(f)}})}function e(){const t=document.getElementById("atak-host")?.value||"",i=document.getElementById("atak-username")?.value||"",f=document.getElementById("atak-token")?.value||"";if(t.trim()){let y=t.trim(),m=tt.PROTOCOLS.HTTPS;try{if(t.trim().includes("://")){const h=new URL(t.trim()),{hostname:l,protocol:g}=h;y=l,m=g.replace(":","")}}catch{}const d=document.getElementById("itak-url"),o=document.getElementById("itak-protocol");d&&(d.value=`${m}://${y}`),o&&(o.value=m)}if(i.trim()){const y=document.getElementById("itak-username");y&&(y.value=i.trim())}if(f.trim()){const y=document.getElementById("itak-token");y&&(y.value=f.trim())}pt.updateiTAKQR()}function n(){const t=document.getElementById("itak-url")?.value||"",i=document.getElementById("itak-username")?.value||"",f=document.getElementById("itak-token")?.value||"";if(t.trim()){const y=Dt(t);if(y){const m=document.getElementById("atak-host");m&&(m.value=y)}}if(i.trim()){const y=document.getElementById("atak-username");y&&(y.value=i.trim())}if(f.trim()){const y=document.getElementById("atak-token");y&&(y.value=f.trim())}pt.updateATAKQR()}return{init:k,populateiTAKFromATAK:e,populateATAKFromiTAK:n}})(),Rt=(function(){let k;function I(){if(k=document.getElementById("profile-modal"),!k)return;const a=k.querySelector(".modal-close"),e=document.getElementById("modal-cancel"),n=document.getElementById("modal-save");a?.addEventListener("click",p),e?.addEventListener("click",p),n?.addEventListener("click",xt.saveProfile),k.addEventListener("click",t=>{t.target===k&&p()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&k.classList.contains("active")&&p()})}function u(){k&&(k.classList.add("active"),k.setAttribute("aria-modal","true"),setTimeout(()=>{k.querySelector("input, select, textarea")?.focus()},100))}function p(){k&&(k.classList.remove("active"),k.removeAttribute("aria-modal"))}return{init:I,openModal:u,closeModal:p}})(),xn=(function(){function k(){document.getElementById("help-button")?.addEventListener("click",()=>bt.switchTab(tt.TABS.HELP)),document.addEventListener("keydown",p=>{p.key==="F1"&&(p.preventDefault(),bt.switchTab(tt.TABS.HELP))}),document.getElementById("back-to-top")?.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}return{init:k}})(),Pn=(()=>{const k="tak-theme";function I(){const e=localStorage.getItem(k);return e||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}function u(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem(k,e);const n=e==="dark"?"#1e293b":"#1e40af";document.querySelector('meta[name="theme-color"]')?.setAttribute("content",n)}function p(){const n=I()==="light"?"dark":"light";u(n)}function a(){const e=I();u(e),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{localStorage.getItem(k)||u(t.matches?"dark":"light")});const n=document.getElementById("theme-toggle");n&&n.addEventListener("click",p)}return{init:a,toggleTheme:p,getCurrentTheme:I,applyTheme:u}})(),He=(()=>{const k="appVersion",I="3.1.1";async function u(){const p=document.getElementById("app-version"),a=document.getElementById("update-notice");p&&(p.textContent=`v${I}`);const e=localStorage.getItem(k);e&&e!==I&&ot.showNotification(`Updated to version ${I}`,"success"),localStorage.setItem(k,I);try{const t=await(await fetch("version.json",{cache:"no-store"})).json();a&&(a.style.display=t.version!==I?"inline":"none")}catch{}}return{init:u}})();async function zn(){Pn.init(),bt.init(),he.init(),xt.init(),Rt.init(),xn.init(),He.init(),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",()=>{He.init()})}document.addEventListener("DOMContentLoaded",zn);window.updateATAKQR=pt.updateATAKQRCore;window.updateiTAKQR=pt.updateiTAKQRCore;window.updateImportQR=pt.updateImportQRCore;window.populateiTAKFromATAK=he.populateiTAKFromATAK;window.populateATAKFromiTAK=he.populateATAKFromiTAK;window.transferDataFromATAKToiTAK=()=>bt.switchTab(tt.TABS.ITAK);window.transferDataFromiTAKToATAK=()=>bt.switchTab(tt.TABS.ATAK);window.showNotification=ot.showNotification;window.loadProfile=xt.loadProfile;window.deleteProfile=xt.deleteProfile;window.ProfileManager=xt;window.showDataStatus=ot.showDataStatus;window.switchTab=bt.switchTab;
